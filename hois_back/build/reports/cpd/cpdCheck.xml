<?xml version="1.0" encoding="UTF-8"?>
<pmd-cpd>
   <duplication lines="211" tokens="601">
      <file line="269"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/Curriculum.java"/>
      <file line="258"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/CurriculumForm.java"/>
      <codefragment><![CDATA[    }

    public String getMerCode() {
        return merCode;
    }

    public void setMerCode(String merCode) {
        this.merCode = merCode;
    }

    public LocalDate getApproval() {
        return approval;
    }

    public void setApproval(LocalDate approval) {
        this.approval = approval;
    }

    public String getApprovalDokNr() {
        return approvalDokNr;
    }

    public void setApprovalDokNr(String approvalDokNr) {
        this.approvalDokNr = approvalDokNr;
    }

    public String getOutcomesEt() {
        return outcomesEt;
    }

    public void setOutcomesEt(String outcomesEt) {
        this.outcomesEt = outcomesEt;
    }

    public String getOutcomesEn() {
        return outcomesEn;
    }

    public void setOutcomesEn(String outcomesEn) {
        this.outcomesEn = outcomesEn;
    }

    public String getStructure() {
        return structure;
    }

    public void setStructure(String structure) {
        this.structure = structure;
    }

    public String getAdmissionRequirementsEt() {
        return admissionRequirementsEt;
    }

    public void setAdmissionRequirementsEt(String admissionRequirementsEt) {
        this.admissionRequirementsEt = admissionRequirementsEt;
    }

    public String getAdmissionRequirementsEn() {
        return admissionRequirementsEn;
    }

    public void setAdmissionRequirementsEn(String admissionRequirementsEn) {
        this.admissionRequirementsEn = admissionRequirementsEn;
    }

    public String getGraduationRequirementsEt() {
        return graduationRequirementsEt;
    }

    public void setGraduationRequirementsEt(String graduationRequirementsEt) {
        this.graduationRequirementsEt = graduationRequirementsEt;
    }

    public String getGraduationRequirementsEn() {
        return graduationRequirementsEn;
    }

    public void setGraduationRequirementsEn(String graduationRequirementsEn) {
        this.graduationRequirementsEn = graduationRequirementsEn;
    }

    public BigDecimal getCredits() {
        return credits;
    }

    public void setCredits(BigDecimal credits) {
        this.credits = credits;
    }

    public String getDraftText() {
        return draftText;
    }

    public void setDraftText(String draftText) {
        this.draftText = draftText;
    }

    public String getSpecialization() {
        return specialization;
    }

    public void setSpecialization(String specialization) {
        this.specialization = specialization;
    }

    public String getPracticeDescription() {
        return practiceDescription;
    }

    public void setPracticeDescription(String practiceDescription) {
        this.practiceDescription = practiceDescription;
    }

    public String getFinalExamDescription() {
        return finalExamDescription;
    }

    public void setFinalExamDescription(String finalExamDescription) {
        this.finalExamDescription = finalExamDescription;
    }

    public String getOptionalStudyDescription() {
        return optionalStudyDescription;
    }

    public void setOptionalStudyDescription(String optionalStudyDescription) {
        this.optionalStudyDescription = optionalStudyDescription;
    }

    public String getDescription() {
        return description;
    }

    public void setDescription(String description) {
        this.description = description;
    }

    public LocalDate getEhisChanged() {
        return ehisChanged;
    }

    public void setEhisChanged(LocalDate ehisChanged) {
        this.ehisChanged = ehisChanged;
    }

    public String getContactPerson() {
        return contactPerson;
    }

    public void setContactPerson(String contactPerson) {
        this.contactPerson = contactPerson;
    }

    public String getNameGenitiveEt() {
        return nameGenitiveEt;
    }

    public void setNameGenitiveEt(String nameGenitiveEt) {
        this.nameGenitiveEt = nameGenitiveEt;
    }

    public String getNameGenitiveEn() {
        return nameGenitiveEn;
    }

    public void setNameGenitiveEn(String nameGenitiveEn) {
        this.nameGenitiveEn = nameGenitiveEn;
    }

    public String getLanguageDescription() {
        return languageDescription;
    }

    public void setLanguageDescription(String languageDescription) {
        this.languageDescription = languageDescription;
    }

    public String getOtherLanguages() {
        return otherLanguages;
    }

    public void setOtherLanguages(String otherLanguages) {
        this.otherLanguages = otherLanguages;
    }

    public String getObjectivesEt() {
        return objectivesEt;
    }

    public void setObjectivesEt(String objectivesEt) {
        this.objectivesEt = objectivesEt;
    }

    public String getObjectivesEn() {
        return objectivesEn;
    }

    public void setObjectivesEn(String objectivesEn) {
        this.objectivesEn = objectivesEn;
    }

    public String getAddInfo() {
        return addInfo;
    }

    public void setAddInfo(String addInfo) {
        this.addInfo = addInfo;
    }

    public LocalDate getAccreditationDate() {]]></codefragment>
   </duplication>
   <duplication lines="109" tokens="309">
      <file line="142"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/subject/Subject.java"/>
      <file line="128"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/SubjectForm.java"/>
      <codefragment><![CDATA[    public void setAssessment(Classifier assessment) {
        this.assessment = assessment;
    }

    public String getAssessmentDescription() {
        return assessmentDescription;
    }

    public void setAssessmentDescription(String assessmentDescription) {
        this.assessmentDescription = assessmentDescription;
    }

    public String getObjectivesEt() {
        return objectivesEt;
    }

    public void setObjectivesEt(String objectivesEt) {
        this.objectivesEt = objectivesEt;
    }

    public String getObjectivesEn() {
        return objectivesEn;
    }

    public void setObjectivesEn(String objectivesEn) {
        this.objectivesEn = objectivesEn;
    }

    public String getOutcomesEt() {
        return outcomesEt;
    }

    public void setOutcomesEt(String outcomesEt) {
        this.outcomesEt = outcomesEt;
    }

    public String getOutcomesEn() {
        return outcomesEn;
    }

    public void setOutcomesEn(String outcomesEn) {
        this.outcomesEn = outcomesEn;
    }

    public String getDescriptionEt() {
        return descriptionEt;
    }

    public void setDescriptionEt(String descriptionEt) {
        this.descriptionEt = descriptionEt;
    }

    public String getDescriptionEn() {
        return descriptionEn;
    }

    public void setDescriptionEn(String descriptionEn) {
        this.descriptionEn = descriptionEn;
    }

    public String getStudyLiterature() {
        return studyLiterature;
    }

    public void setStudyLiterature(String studyLiterature) {
        this.studyLiterature = studyLiterature;
    }

    public String getEvaluationEt() {
        return evaluationEt;
    }

    public void setEvaluationEt(String evaluationEt) {
        this.evaluationEt = evaluationEt;
    }

    public String getEvaluationEn() {
        return evaluationEn;
    }

    public void setEvaluationEn(String evaluationEn) {
        this.evaluationEn = evaluationEn;
    }

    public String getIndependentStudyEt() {
        return independentStudyEt;
    }

    public void setIndependentStudyEt(String independentStudyEt) {
        this.independentStudyEt = independentStudyEt;
    }

    public String getIndependentStudyEn() {
        return independentStudyEn;
    }

    public void setIndependentStudyEn(String independentStudyEn) {
        this.independentStudyEn = independentStudyEn;
    }

    public String getAdditionalInfo() {
        return additionalInfo;
    }

    public void setAdditionalInfo(String additionalInfo) {
        this.additionalInfo = additionalInfo;
    }

    public SchoolDepartment getSchoolDepartment() {]]></codefragment>
   </duplication>
   <duplication lines="87" tokens="246">
      <file line="118"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/statecurriculum/StateCurriculum.java"/>
      <file line="71"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/StateCurriculumForm.java"/>
      <codefragment><![CDATA[	}

	public void setNameEn(String nameEn) {
		this.nameEn = nameEn;
	}

	public String getObjectivesEt() {
		return objectivesEt;
	}

	public void setObjectivesEt(String objectivesEt) {
		this.objectivesEt = objectivesEt;
	}

	public String getObjectivesEn() {
		return objectivesEn;
	}

	public void setObjectivesEn(String objectivesEn) {
		this.objectivesEn = objectivesEn;
	}

	public String getOutcomesEt() {
		return outcomesEt;
	}

	public void setOutcomesEt(String outcomesEt) {
		this.outcomesEt = outcomesEt;
	}

	public String getOutcomesEn() {
		return outcomesEn;
	}

	public void setOutcomesEn(String outcomesEn) {
		this.outcomesEn = outcomesEn;
	}

	public String getAdmissionRequirementsEt() {
		return admissionRequirementsEt;
	}

	public void setAdmissionRequirementsEt(String admissionRequirementsEt) {
		this.admissionRequirementsEt = admissionRequirementsEt;
	}

	public String getAdmissionRequirementsEn() {
		return admissionRequirementsEn;
	}

	public void setAdmissionRequirementsEn(String admissionRequirementsEn) {
		this.admissionRequirementsEn = admissionRequirementsEn;
	}

	public String getGraduationRequirementsEt() {
		return graduationRequirementsEt;
	}

	public void setGraduationRequirementsEt(String graduationRequirementsEt) {
		this.graduationRequirementsEt = graduationRequirementsEt;
	}

	public String getGraduationRequirementsEn() {
		return graduationRequirementsEn;
	}

	public void setGraduationRequirementsEn(String graduationRequirementsEn) {
		this.graduationRequirementsEn = graduationRequirementsEn;
	}

	public Long getCredits() {
		return credits;
	}

	public void setCredits(Long credits) {
		this.credits = credits;
	}

	public String getPracticeDescription() {
		return practiceDescription;
	}

	public void setPracticeDescription(String practiceDescription) {
		this.practiceDescription = practiceDescription;
	}

	public String getFinalExamDescription() {]]></codefragment>
   </duplication>
   <duplication lines="83" tokens="232">
      <file line="97"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumVersionHigherModule.java"/>
      <file line="94"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionHigherModuleDto.java"/>
      <codefragment><![CDATA[    }

    public String getNameEt() {
        return nameEt;
    }

    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }

    public String getNameEn() {
        return nameEn;
    }

    public void setNameEn(String nameEn) {
        this.nameEn = nameEn;
    }

    public String getObjectivesEt() {
        return objectivesEt;
    }

    public void setObjectivesEt(String objectivesEt) {
        this.objectivesEt = objectivesEt;
    }

    public String getObjectivesEn() {
        return objectivesEn;
    }

    public void setObjectivesEn(String objectivesEn) {
        this.objectivesEn = objectivesEn;
    }

    public String getOutcomesEt() {
        return outcomesEt;
    }

    public void setOutcomesEt(String outcomesEt) {
        this.outcomesEt = outcomesEt;
    }

    public String getOutcomesEn() {
        return outcomesEn;
    }

    public void setOutcomesEn(String outcomesEn) {
        this.outcomesEn = outcomesEn;
    }

    public String getTypeNameEt() {
        return typeNameEt;
    }

    public void setTypeNameEt(String typeNameEt) {
        this.typeNameEt = typeNameEt;
    }

    public String getTypeNameEn() {
        return typeNameEn;
    }

    public void setTypeNameEn(String typeNameEn) {
        this.typeNameEn = typeNameEn;
    }

    public Double getTotalCredits() {
        return totalCredits;
    }

    public void setTotalCredits(Double totalCredits) {
        this.totalCredits = totalCredits;
    }

    public Double getOptionalStudyCredits() {
        return optionalStudyCredits;
    }

    public void setOptionalStudyCredits(Double optionalStudyCredits) {
        this.optionalStudyCredits = optionalStudyCredits;
    }

    public Boolean getMinorSpeciality() {]]></codefragment>
   </duplication>
   <duplication lines="81" tokens="231">
      <file line="41"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/timetable/LessonTime.java"/>
      <file line="42"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/timetable/LessonTimeDto.java"/>
      <codefragment><![CDATA[    }

    public LocalTime getStartTime() {
        return startTime;
    }

    public void setStartTime(LocalTime startTime) {
        this.startTime = startTime;
    }

    public LocalTime getEndTime() {
        return endTime;
    }

    public void setEndTime(LocalTime endTime) {
        this.endTime = endTime;
    }

    public Integer getLessonNr() {
        return lessonNr;
    }

    public void setLessonNr(Integer lessonNr) {
        this.lessonNr = lessonNr;
    }

    public Boolean getDayMon() {
        return dayMon;
    }

    public void setDayMon(Boolean dayMon) {
        this.dayMon = dayMon;
    }

    public Boolean getDayTue() {
        return dayTue;
    }

    public void setDayTue(Boolean dayTue) {
        this.dayTue = dayTue;
    }

    public Boolean getDayWed() {
        return dayWed;
    }

    public void setDayWed(Boolean dayWed) {
        this.dayWed = dayWed;
    }

    public Boolean getDayThu() {
        return dayThu;
    }

    public void setDayThu(Boolean dayThu) {
        this.dayThu = dayThu;
    }

    public Boolean getDayFri() {
        return dayFri;
    }

    public void setDayFri(Boolean dayFri) {
        this.dayFri = dayFri;
    }

    public Boolean getDaySat() {
        return daySat;
    }

    public void setDaySat(Boolean daySat) {
        this.daySat = daySat;
    }

    public Boolean getDaySun() {
        return daySun;
    }

    public void setDaySun(Boolean daySun) {
        this.daySun = daySun;
    }]]></codefragment>
   </duplication>
   <duplication lines="55" tokens="216">
      <file line="36"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/timetable/JournalEntryForm.java"/>
      <file line="53"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/timetable/JournalEntryDto.java"/>
      <codefragment><![CDATA[    public String getEntryType() {
        return entryType;
    }
    public void setEntryType(String entryType) {
        this.entryType = entryType;
    }
    public String getNameEt() {
        return nameEt;
    }
    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }
    public LocalDate getEntryDate() {
        return entryDate;
    }
    public void setEntryDate(LocalDate entryDate) {
        this.entryDate = entryDate;
    }
    public Integer getStartLessonNr() {
        return startLessonNr;
    }
    public void setStartLessonNr(Integer startLessonNr) {
        this.startLessonNr = startLessonNr;
    }
    public Integer getLessons() {
        return lessons;
    }
    public void setLessons(Integer lessons) {
        this.lessons = lessons;
    }
    public String getContent() {
        return content;
    }
    public void setContent(String content) {
        this.content = content;
    }
    public String getHomework() {
        return homework;
    }
    public void setHomework(String homework) {
        this.homework = homework;
    }
    public LocalDate getHomeworkDuedate() {
        return homeworkDuedate;
    }
    public void setHomeworkDuedate(LocalDate homeworkDuedate) {
        this.homeworkDuedate = homeworkDuedate;
    }
    public List<String> getJournalEntryCapacityTypes() {
        return journalEntryCapacityTypes;
    }
    public void setJournalEntryCapacityTypes(List<String> journalEntryCapacityTypes) {
        this.journalEntryCapacityTypes = journalEntryCapacityTypes;
    }
    public List<JournalEntryStudentForm> getJournalEntryStudents() {]]></codefragment>
   </duplication>
   <duplication lines="75" tokens="209">
      <file line="33"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/Certificate.java"/>
      <file line="41"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/CertificateForm.java"/>
      <codefragment><![CDATA[    private Student student;

    public String getOtherName() {
        return otherName;
    }

    public void setOtherName(String otherName) {
        this.otherName = otherName;
    }

    public String getOtherIdcode() {
        return otherIdcode;
    }

    public void setOtherIdcode(String otherIdcode) {
        this.otherIdcode = otherIdcode;
    }

    public String getHeadline() {
        return headline;
    }

    public void setHeadline(String headline) {
        this.headline = headline;
    }

    public String getContent() {
        return content;
    }

    public void setContent(String content) {
        this.content = content;
    }

    public String getWhom() {
        return whom;
    }

    public void setWhom(String whom) {
        this.whom = whom;
    }

    public String getCertificateNr() {
        return certificateNr;
    }

    public void setCertificateNr(String certificateNr) {
        this.certificateNr = certificateNr;
    }

    public String getSignatoryName() {
        return signatoryName;
    }

    public void setSignatoryName(String signatoryName) {
        this.signatoryName = signatoryName;
    }

    public String getSignatoryIdcode() {
        return signatoryIdcode;
    }

    public void setSignatoryIdcode(String signatoryIdcode) {
        this.signatoryIdcode = signatoryIdcode;
    }

    public String getWdUrl() {
        return wdUrl;
    }

    public void setWdUrl(String wdUrl) {
        this.wdUrl = wdUrl;
    }

    public Long getWdId() {]]></codefragment>
   </duplication>
   <duplication lines="69" tokens="194">
      <file line="103"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumVersionOccupationModule.java"/>
      <file line="117"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionOccupationModuleDto.java"/>
      <codefragment><![CDATA[    public void setAssessment(Classifier assessment) {
        this.assessment = assessment;
    }

    public String getTotalGradeDescription() {
        return totalGradeDescription;
    }

    public void setTotalGradeDescription(String totalGradeDescription) {
        this.totalGradeDescription = totalGradeDescription;
    }

    public String getPassDescription() {
        return passDescription;
    }

    public void setPassDescription(String passDescription) {
        this.passDescription = passDescription;
    }

    public String getGrade3Description() {
        return grade3Description;
    }

    public void setGrade3Description(String grade3Description) {
        this.grade3Description = grade3Description;
    }

    public String getGrade4Description() {
        return grade4Description;
    }

    public void setGrade4Description(String grade4Description) {
        this.grade4Description = grade4Description;
    }

    public String getGrade5Description() {
        return grade5Description;
    }

    public void setGrade5Description(String grade5Description) {
        this.grade5Description = grade5Description;
    }

    public String getIndependentStudyEt() {
        return independentStudyEt;
    }

    public void setIndependentStudyEt(String independentStudyEt) {
        this.independentStudyEt = independentStudyEt;
    }

    public String getStudyMaterials() {
        return studyMaterials;
    }

    public void setStudyMaterials(String studyMaterials) {
        this.studyMaterials = studyMaterials;
    }

    public String getSupervisor() {
        return supervisor;
    }

    public void setSupervisor(String supervisor) {
        this.supervisor = supervisor;
    }

    public Set<CurriculumVersionOccupationModuleCapacity> getCapacities() {]]></codefragment>
   </duplication>
   <duplication lines="12" tokens="192">
      <file line="128"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/StudentRepresentativeService.java"/>
      <file line="236"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/TeacherService.java"/>
      <codefragment><![CDATA[                filters.add(cb.equal(root.get("person").get("idcode"), criteria.getIdcode()));
            }

            if(!StringUtils.isEmpty(criteria.getName())) {
                List<Predicate> name = new ArrayList<>();
                propertyContains(() -> root.get("person").get("firstname"), cb, criteria.getName(), name::add);
                propertyContains(() -> root.get("person").get("lastname"), cb, criteria.getName(), name::add);
                name.add(cb.like(cb.concat(cb.upper(root.get("person").get("firstname")), cb.concat(" ", cb.upper(root.get("person").get("lastname")))), JpaQueryUtil.toContains(criteria.getName())));
                if(!name.isEmpty()) {
                    filters.add(cb.or(name.toArray(new Predicate[name.size()])));
                }
            }]]></codefragment>
   </duplication>
   <duplication lines="46" tokens="171">
      <file line="51"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/timetable/JournalEntry.java"/>
      <file line="39"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/timetable/JournalEntryForm.java"/>
      <file line="57"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/timetable/JournalEntryDto.java"/>
      <codefragment><![CDATA[    public void setEntryType(Classifier entryType) {
        this.entryType = entryType;
    }
    public String getNameEt() {
        return nameEt;
    }
    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }
    public LocalDate getEntryDate() {
        return entryDate;
    }
    public void setEntryDate(LocalDate entryDate) {
        this.entryDate = entryDate;
    }
    public Integer getStartLessonNr() {
        return startLessonNr;
    }
    public void setStartLessonNr(Integer startLessonNr) {
        this.startLessonNr = startLessonNr;
    }
    public Integer getLessons() {
        return lessons;
    }
    public void setLessons(Integer lessons) {
        this.lessons = lessons;
    }
    public String getContent() {
        return content;
    }
    public void setContent(String content) {
        this.content = content;
    }
    public String getHomework() {
        return homework;
    }
    public void setHomework(String homework) {
        this.homework = homework;
    }
    public LocalDate getHomeworkDuedate() {
        return homeworkDuedate;
    }
    public void setHomeworkDuedate(LocalDate homeworkDuedate) {
        this.homeworkDuedate = homeworkDuedate;
    }
    public Set<JournalEntryCapacityType> getJournalEntryCapacityTypes() {]]></codefragment>
   </duplication>
   <duplication lines="59" tokens="163">
      <file line="65"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/timetable/LessonTime.java"/>
      <file line="69"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/timetable/LessonTimeSearchDto.java"/>
      <codefragment><![CDATA[    }

    public Boolean getDayMon() {
        return dayMon;
    }

    public void setDayMon(Boolean dayMon) {
        this.dayMon = dayMon;
    }

    public Boolean getDayTue() {
        return dayTue;
    }

    public void setDayTue(Boolean dayTue) {
        this.dayTue = dayTue;
    }

    public Boolean getDayWed() {
        return dayWed;
    }

    public void setDayWed(Boolean dayWed) {
        this.dayWed = dayWed;
    }

    public Boolean getDayThu() {
        return dayThu;
    }

    public void setDayThu(Boolean dayThu) {
        this.dayThu = dayThu;
    }

    public Boolean getDayFri() {
        return dayFri;
    }

    public void setDayFri(Boolean dayFri) {
        this.dayFri = dayFri;
    }

    public Boolean getDaySat() {
        return daySat;
    }

    public void setDaySat(Boolean daySat) {
        this.daySat = daySat;
    }

    public Boolean getDaySun() {
        return daySun;
    }

    public void setDaySun(Boolean daySun) {
        this.daySun = daySun;
    }

    public LessonTimeBuildingGroup getLessonTimeBuildingGroup() {]]></codefragment>
   </duplication>
   <duplication lines="57" tokens="162">
      <file line="66"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/timetable/LessonTimeDto.java"/>
      <file line="69"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/timetable/LessonTimeSearchDto.java"/>
      <codefragment><![CDATA[    }

    public Boolean getDayMon() {
        return dayMon;
    }

    public void setDayMon(Boolean dayMon) {
        this.dayMon = dayMon;
    }

    public Boolean getDayTue() {
        return dayTue;
    }

    public void setDayTue(Boolean dayTue) {
        this.dayTue = dayTue;
    }

    public Boolean getDayWed() {
        return dayWed;
    }

    public void setDayWed(Boolean dayWed) {
        this.dayWed = dayWed;
    }

    public Boolean getDayThu() {
        return dayThu;
    }

    public void setDayThu(Boolean dayThu) {
        this.dayThu = dayThu;
    }

    public Boolean getDayFri() {
        return dayFri;
    }

    public void setDayFri(Boolean dayFri) {
        this.dayFri = dayFri;
    }

    public Boolean getDaySat() {
        return daySat;
    }

    public void setDaySat(Boolean daySat) {
        this.daySat = daySat;
    }

    public Boolean getDaySun() {
        return daySun;
    }

    public void setDaySun(Boolean daySun) {
        this.daySun = daySun;
    }]]></codefragment>
   </duplication>
   <duplication lines="55" tokens="154">
      <file line="67"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/statecurriculum/StateCurriculumModule.java"/>
      <file line="81"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/StateCurriculumModuleDto.java"/>
      <codefragment><![CDATA[	}
	
	public void setNameEt(String nameEt) {
		this.nameEt = nameEt;
	}

	public String getNameEn() {
		return nameEn;
	}

	public void setNameEn(String nameEn) {
		this.nameEn = nameEn;
	}

	public Double getCredits() {
		return credits;
	}

	public void setCredits(Double credits) {
		this.credits = credits;
	}

	public String getObjectivesEt() {
		return objectivesEt;
	}

	public void setObjectivesEt(String objectivesEt) {
		this.objectivesEt = objectivesEt;
	}

	public String getObjectivesEn() {
		return objectivesEn;
	}

	public void setObjectivesEn(String objectivesEn) {
		this.objectivesEn = objectivesEn;
	}

	public String getAssessmentsEt() {
		return assessmentsEt;
	}

	public void setAssessmentsEt(String assessmentsEt) {
		this.assessmentsEt = assessmentsEt;
	}

	public String getAssessmentsEn() {
		return assessmentsEn;
	}

	public void setAssessmentsEn(String assessmentsEn) {
		this.assessmentsEn = assessmentsEn;
	}

	public String getNameEt() {]]></codefragment>
   </duplication>
   <duplication lines="53" tokens="150">
      <file line="70"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumModule.java"/>
      <file line="78"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumModuleDto.java"/>
      <codefragment><![CDATA[    public void setModule(Classifier module) {
        this.module = module;
    }

    public String getNameEt() {
        return nameEt;
    }

    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }

    public String getNameEn() {
        return nameEn;
    }

    public void setNameEn(String nameEn) {
        this.nameEn = nameEn;
    }

    public Integer getCredits() {
        return credits;
    }

    public void setCredits(Integer credits) {
        this.credits = credits;
    }

    public String getObjectivesEt() {
        return objectivesEt;
    }

    public void setObjectivesEt(String objectivesEt) {
        this.objectivesEt = objectivesEt;
    }

    public String getObjectivesEn() {
        return objectivesEn;
    }

    public void setObjectivesEn(String objectivesEn) {
        this.objectivesEn = objectivesEn;
    }

    public Boolean getPractice() {
        return practice;
    }

    public void setPractice(Boolean practice) {
        this.practice = practice;
    }

    public Set<CurriculumModuleOccupation> getOccupations() {]]></codefragment>
   </duplication>
   <duplication lines="49" tokens="141">
      <file line="63"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumVersionOccupationModuleTheme.java"/>
      <file line="71"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionOccupationModuleThemeDto.java"/>
      <codefragment><![CDATA[    public String getNameEt() {
        return nameEt;
    }

    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }

    public BigDecimal getCredits() {
        return credits;
    }

    public void setCredits(BigDecimal credits) {
        this.credits = credits;
    }

    public Integer getHours() {
        return hours;
    }

    public void setHours(Integer hours) {
        this.hours = hours;
    }

    public BigDecimal getProportion() {
        return proportion;
    }

    public void setProportion(BigDecimal proportion) {
        this.proportion = proportion;
    }

    public String getSubthemes() {
        return subthemes;
    }

    public void setSubthemes(String subthemes) {
        this.subthemes = subthemes;
    }

    public Integer getStudyYearNumber() {
        return studyYearNumber;
    }

    public void setStudyYearNumber(Integer studyYearNumber) {
        this.studyYearNumber = studyYearNumber;
    }

    public Set<CurriculumVersionOccupationModuleThemeCapacity> getCapacities() {]]></codefragment>
   </duplication>
   <duplication lines="51" tokens="140">
      <file line="155"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/Classifier.java"/>
      <file line="93"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/ClassifierDto.java"/>
      <codefragment><![CDATA[    }

    public String getDescription() {
        return description;
    }

    public void setDescription(String description) {
        this.description = description;
    }

    public LocalDate getValidFrom() {
        return validFrom;
    }

    public void setValidFrom(LocalDate validFrom) {
        this.validFrom = validFrom;
    }

    public LocalDate getValidThru() {
        return validThru;
    }

    public void setValidThru(LocalDate validThru) {
        this.validThru = validThru;
    }

    public String getExtraval1() {
        return extraval1;
    }

    public void setExtraval1(String extraval1) {
        this.extraval1 = extraval1;
    }

    public String getExtraval2() {
        return extraval2;
    }

    public void setExtraval2(String extraval2) {
        this.extraval2 = extraval2;
    }

    public String getEhisValue() {
        return ehisValue;
    }

    public void setEhisValue(String ehisValue) {
        this.ehisValue = ehisValue;
    }

    public boolean isVocational() {]]></codefragment>
   </duplication>
   <duplication lines="51" tokens="140">
      <file line="78"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumSpeciality.java"/>
      <file line="68"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumSpecialityDto.java"/>
      <codefragment><![CDATA[    }

    public String getNameEt() {
		return nameEt;
	}

	public void setNameEt(String nameEt) {
		this.nameEt = nameEt;
	}

	public String getNameEn() {
		return nameEn;
	}

	public void setNameEn(String nameEn) {
		this.nameEn = nameEn;
	}

	public BigDecimal getCredits() {
		return credits;
	}

	public void setCredits(BigDecimal credits) {
		this.credits = credits;
	}

	public String getDescription() {
		return description;
	}

	public void setDescription(String description) {
		this.description = description;
	}

	public String getOccupationEt() {
		return occupationEt;
	}

	public void setOccupationEt(String occupationEt) {
		this.occupationEt = occupationEt;
	}

	public String getOccupationEn() {
		return occupationEn;
	}

	public void setOccupationEn(String occupationEn) {
		this.occupationEn = occupationEn;
	}

	public Classifier getOccupation() {]]></codefragment>
   </duplication>
   <duplication lines="51" tokens="140">
      <file line="123"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumVersion.java"/>
      <file line="102"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionDto.java"/>
      <codefragment><![CDATA[    }

    public String getCode() {
        return code;
    }

    public void setCode(String code) {
        this.code = code;
    }

    public Integer getAdmissionYear() {
        return admissionYear;
    }

    public void setAdmissionYear(Integer admissionYear) {
        this.admissionYear = admissionYear;
    }

    public String getTargetGroup() {
        return targetGroup;
    }

    public void setTargetGroup(String targetGroup) {
        this.targetGroup = targetGroup;
    }

    public Boolean getIndividual() {
        return individual;
    }

    public void setIndividual(Boolean individual) {
        this.individual = individual;
    }

    public String getTeachers() {
        return teachers;
    }

    public void setTeachers(String teachers) {
        this.teachers = teachers;
    }

    public String getDescription() {
        return description;
    }

    public void setDescription(String description) {
        this.description = description;
    }

    public Classifier getType() {]]></codefragment>
   </duplication>
   <duplication lines="49" tokens="140">
      <file line="99"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumVersionHigherModule.java"/>
      <file line="61"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/StateCurriculumForm.java"/>
      <file line="96"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionHigherModuleDto.java"/>
      <codefragment><![CDATA[    public String getNameEt() {
        return nameEt;
    }

    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }

    public String getNameEn() {
        return nameEn;
    }

    public void setNameEn(String nameEn) {
        this.nameEn = nameEn;
    }

    public String getObjectivesEt() {
        return objectivesEt;
    }

    public void setObjectivesEt(String objectivesEt) {
        this.objectivesEt = objectivesEt;
    }

    public String getObjectivesEn() {
        return objectivesEn;
    }

    public void setObjectivesEn(String objectivesEn) {
        this.objectivesEn = objectivesEn;
    }

    public String getOutcomesEt() {
        return outcomesEt;
    }

    public void setOutcomesEt(String outcomesEt) {
        this.outcomesEt = outcomesEt;
    }

    public String getOutcomesEn() {
        return outcomesEn;
    }

    public void setOutcomesEn(String outcomesEn) {
        this.outcomesEn = outcomesEn;
    }

    public String getTypeNameEt() {]]></codefragment>
   </duplication>
   <duplication lines="51" tokens="140">
      <file line="26"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/sais/SaisAdmissionDto.java"/>
      <file line="50"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/sais/SaisAdmissionSearchDto.java"/>
      <codefragment><![CDATA[    }

    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getCode() {
        return code;
    }

    public void setCode(String code) {
        this.code = code;
    }

    public AutocompleteResult getCurriculumVersion() {
        return curriculumVersion;
    }

    public void setCurriculumVersion(AutocompleteResult curriculumVersion) {
        this.curriculumVersion = curriculumVersion;
    }

    public Integer getPlaces() {
        return places;
    }

    public void setPlaces(Integer places) {
        this.places = places;
    }

    public String getLanguage() {
        return language;
    }

    public void setLanguage(String language) {
        this.language = language;
    }

    public String getStudyForm() {
        return studyForm;
    }

    public void setStudyForm(String studyForm) {
        this.studyForm = studyForm;
    }

    public String getStudyLevel() {]]></codefragment>
   </duplication>
   <duplication lines="49" tokens="139">
      <file line="97"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumVersionOccupationModule.java"/>
      <file line="135"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumVersionOccupationModuleTheme.java"/>
      <codefragment><![CDATA[    }

    public Classifier getAssessment() {
        return assessment;
    }

    public void setAssessment(Classifier assessment) {
        this.assessment = assessment;
    }

    public String getTotalGradeDescription() {
        return totalGradeDescription;
    }

    public void setTotalGradeDescription(String totalGradeDescription) {
        this.totalGradeDescription = totalGradeDescription;
    }

    public String getPassDescription() {
        return passDescription;
    }

    public void setPassDescription(String passDescription) {
        this.passDescription = passDescription;
    }

    public String getGrade3Description() {
        return grade3Description;
    }

    public void setGrade3Description(String grade3Description) {
        this.grade3Description = grade3Description;
    }

    public String getGrade4Description() {
        return grade4Description;
    }

    public void setGrade4Description(String grade4Description) {
        this.grade4Description = grade4Description;
    }

    public String getGrade5Description() {
        return grade5Description;
    }

    public void setGrade5Description(String grade5Description) {
        this.grade5Description = grade5Description;
    }]]></codefragment>
   </duplication>
   <duplication lines="15" tokens="139">
      <file line="138"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/MessageService.java"/>
      <file line="157"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/MessageService.java"/>
      <codefragment><![CDATA[            LocalDate sentFrom = criteria.getSentFrom();
            if(sentFrom != null) {
              filters.add(cb.greaterThanOrEqualTo(root.get("inserted"), DateUtils.firstMomentOfDay(sentFrom)));
            }
            LocalDate sentThru = criteria.getSentThru();
            if(sentThru != null) {
              filters.add(cb.lessThanOrEqualTo(root.get("inserted"), DateUtils.lastMomentOfDay(sentThru)));
            }
            propertyContains(() -> root.get("subject"), cb, criteria.getSubject(), filters::add);

            return cb.and(filters.toArray(new Predicate[filters.size()]));
        }, pageable).map(MessageSearchDto::ofSent);
    }
    
    public Page<MessageSearchDto> searchSentAutomatic(Long schoolId, MessageSearchCommand criteria, Pageable pageable) {]]></codefragment>
   </duplication>
   <duplication lines="49" tokens="139">
      <file line="111"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionOccupationModuleDto.java"/>
      <file line="133"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionOccupationModuleThemeDto.java"/>
      <codefragment><![CDATA[    }

    public String getAssessment() {
        return assessment;
    }

    public void setAssessment(String assessment) {
        this.assessment = assessment;
    }

    public String getTotalGradeDescription() {
        return totalGradeDescription;
    }

    public void setTotalGradeDescription(String totalGradeDescription) {
        this.totalGradeDescription = totalGradeDescription;
    }

    public String getPassDescription() {
        return passDescription;
    }

    public void setPassDescription(String passDescription) {
        this.passDescription = passDescription;
    }

    public String getGrade3Description() {
        return grade3Description;
    }

    public void setGrade3Description(String grade3Description) {
        this.grade3Description = grade3Description;
    }

    public String getGrade4Description() {
        return grade4Description;
    }

    public void setGrade4Description(String grade4Description) {
        this.grade4Description = grade4Description;
    }

    public String getGrade5Description() {
        return grade5Description;
    }

    public void setGrade5Description(String grade5Description) {
        this.grade5Description = grade5Description;
    }]]></codefragment>
   </duplication>
   <duplication lines="29" tokens="137">
      <file line="290"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <file line="490"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <codefragment><![CDATA[        List<SubjectStudyPeriodPlan> plans = subjectStudyPeriodPlanRepository.findAll((root, query, cb) -> {

            List<Predicate> filters = new ArrayList<>();
            filters.add(cb.equal(root.get("studyPeriod").get("id"), container.getStudyPeriod()));

            List<Long> subjectIds = StreamUtil.toMappedList(s -> s.getSubject(), container.getSubjectStudyPeriodDtos());
            if (!CollectionUtils.isEmpty(subjectIds)) {
                filters.add(root.get("subject").get("id").in(subjectIds));
            }
            /*
             * Below is not working attempt to filter properly by studyForm
             */
            // Subquery<Long> studyFormSubquery = query.subquery(Long.class);
            // Root<SubjectStudyPeriodPlanStudyform> targetRoot =
            // studyFormSubquery.from(SubjectStudyPeriodPlanStudyform.class);
            // studyFormSubquery = studyFormSubquery
            // .select(targetRoot.get("plan").get("id"));
            //
            // Subquery<Long> studyFormSubquery2 = query.subquery(Long.class);
            // Root<SubjectStudyPeriodPlanStudyform> targetRoot2 =
            // studyFormSubquery2.from(SubjectStudyPeriodPlanStudyform.class);
            // studyFormSubquery2 = studyFormSubquery2
            // .select(targetRoot2.get("plan").get("id"))
            // .where(cb.equal(targetRoot2.get("studyForm").get("code"),
            // sg.getStudyForm().getCode()));
            // filters.add(cb.or(cb.not(cb.exists(studyFormSubquery)),
            // root.get("id").in(studyFormSubquery2)));
            return cb.and(filters.toArray(new Predicate[filters.size()]));
        });]]></codefragment>
   </duplication>
   <duplication lines="11" tokens="132">
      <file line="473"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <file line="602"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <codefragment><![CDATA[            filters.add(root.get("id").in(teacherSubquery));
            return cb.and(filters.toArray(new Predicate[filters.size()]));
        });
        List<SubjectStudyPeriodDto> subjectStudyPeriodDtos = StreamUtil.toMappedList(ssp -> {
            SubjectStudyPeriodDto dto = new SubjectStudyPeriodDto();
            dto.setId(EntityUtil.getId(ssp));
            dto.setSubject(EntityUtil.getId(ssp.getSubject()));
            dto.setStudentGroupObjects(
                    StreamUtil.toMappedList(s -> AutocompleteResult.of(s.getStudentGroup()), ssp.getStudentGroups()));
            dto.setCapacities(StreamUtil.toMappedList(SubjectStudyPeriodCapacityDto::of, ssp.getCapacities()));
            dto.setGroupProportion(EntityUtil.getCode(ssp.getGroupProportion()));]]></codefragment>
   </duplication>
   <duplication lines="42" tokens="128">
      <file line="23"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/GeneralMessageForm.java"/>
      <file line="15"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/GeneralMessageSearchCommand.java"/>
      <codefragment><![CDATA[    private List<String> targets;

    public String getTitle() {
        return title;
    }

    public void setTitle(String title) {
        this.title = title;
    }

    public String getContent() {
        return content;
    }

    public void setContent(String content) {
        this.content = content;
    }

    public LocalDate getValidFrom() {
        return validFrom;
    }

    public void setValidFrom(LocalDate validFrom) {
        this.validFrom = validFrom;
    }

    public LocalDate getValidThru() {
        return validThru;
    }

    public void setValidThru(LocalDate validThru) {
        this.validThru = validThru;
    }

    public List<String> getTargets() {
        return targets;
    }

    public void setTargets(List<String> targets) {
        this.targets = targets;
    }
}]]></codefragment>
   </duplication>
   <duplication lines="13" tokens="127">
      <file line="105"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/LessonTimeControllerTests.java"/>
      <file line="167"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/LessonTimeControllerTests.java"/>
      <codefragment><![CDATA[        Assert.assertEquals(HttpStatus.PRECONDITION_FAILED, responseEntity.getStatusCode());

        form.setValidFrom(validFroms.get(0));
        LessonTimeBuildingGroupDto lessonTimeBuildingGroupDto = new LessonTimeBuildingGroupDto();
        lessonTimeBuildingGroupDto.setBuildings(new HashSet<>(Arrays.asList(buildings.get(0))));
        LessonTimeDto lessonTimeDto = new LessonTimeDto();
        lessonTimeDto.setDayMon(Boolean.TRUE);
        lessonTimeDto.setLessonNr(Integer.valueOf(1));
        lessonTimeDto.setStartTime(LocalTime.of(8, 0));
        lessonTimeDto.setEndTime(LocalTime.of(9, 0));
        lessonTimeBuildingGroupDto.setLessonTimes(new HashSet<>(Arrays.asList(lessonTimeDto)));

        form.setLessonTimeBuildingGroups(new HashSet<>(Arrays.asList(lessonTimeBuildingGroupDto)));]]></codefragment>
   </duplication>
   <duplication lines="45" tokens="125">
      <file line="33"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumJointPartner.java"/>
      <file line="53"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumJointPartnerDto.java"/>
      <codefragment><![CDATA[	public void setAbroad(boolean abroad) {
		this.abroad = abroad;
	}

	public String getContractEt() {
		return contractEt;
	}

	public void setContractEt(String contractEt) {
		this.contractEt = contractEt;
	}

	public String getContractEn() {
		return contractEn;
	}

	public void setContractEn(String contractEn) {
		this.contractEn = contractEn;
	}

	public String getSupervisor() {
		return supervisor;
	}

	public void setSupervisor(String supervisor) {
		this.supervisor = supervisor;
	}

	public String getNameEt() {
		return nameEt;
	}

	public void setNameEt(String nameEt) {
		this.nameEt = nameEt;
	}

	public String getNameEn() {
		return nameEn;
	}

	public void setNameEn(String nameEn) {
		this.nameEn = nameEn;
	}

	public Classifier getEhisSchool() {]]></codefragment>
   </duplication>
   <duplication lines="44" tokens="125">
      <file line="141"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumVersionOccupationModuleTheme.java"/>
      <file line="141"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionOccupationModuleThemeDto.java"/>
      <codefragment><![CDATA[    public void setAssessment(Classifier assessment) {
        this.assessment = assessment;
    }

    public String getTotalGradeDescription() {
        return totalGradeDescription;
    }

    public void setTotalGradeDescription(String totalGradeDescription) {
        this.totalGradeDescription = totalGradeDescription;
    }

    public String getPassDescription() {
        return passDescription;
    }

    public void setPassDescription(String passDescription) {
        this.passDescription = passDescription;
    }

    public String getGrade3Description() {
        return grade3Description;
    }

    public void setGrade3Description(String grade3Description) {
        this.grade3Description = grade3Description;
    }

    public String getGrade4Description() {
        return grade4Description;
    }

    public void setGrade4Description(String grade4Description) {
        this.grade4Description = grade4Description;
    }

    public String getGrade5Description() {
        return grade5Description;
    }

    public void setGrade5Description(String grade5Description) {
        this.grade5Description = grade5Description;
    }
}]]></codefragment>
   </duplication>
   <duplication lines="43" tokens="125">
      <file line="43"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/SubjectStudyPeriodForm.java"/>
      <file line="52"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/SubjectStudyPeriodDto.java"/>
      <codefragment><![CDATA[    public void setTeachers(List<SubjectStudyPeriodTeacherForm> teachers) {
        this.teachers = teachers;
    }

    public Long getStudyPeriod() {
        return studyPeriod;
    }

    public void setStudyPeriod(Long studyPeriod) {
        this.studyPeriod = studyPeriod;
    }

    public Long getSubject() {
        return subject;
    }

    public void setSubject(Long subject) {
        this.subject = subject;
    }

    public String getAddInfo() {
        return addInfo;
    }

    public void setAddInfo(String addInfo) {
        this.addInfo = addInfo;
    }

    public String getDeclarationType() {
        return declarationType;
    }

    public void setDeclarationType(String declarationType) {
        this.declarationType = declarationType;
    }

    public String getGroupProportion() {
        return groupProportion;
    }

    public void setGroupProportion(String groupProportion) {
        this.groupProportion = groupProportion;
    }]]></codefragment>
   </duplication>
   <duplication lines="43" tokens="124">
      <file line="103"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumVersionOccupationModule.java"/>
      <file line="141"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionOccupationModuleThemeDto.java"/>
      <codefragment><![CDATA[    public void setAssessment(Classifier assessment) {
        this.assessment = assessment;
    }

    public String getTotalGradeDescription() {
        return totalGradeDescription;
    }

    public void setTotalGradeDescription(String totalGradeDescription) {
        this.totalGradeDescription = totalGradeDescription;
    }

    public String getPassDescription() {
        return passDescription;
    }

    public void setPassDescription(String passDescription) {
        this.passDescription = passDescription;
    }

    public String getGrade3Description() {
        return grade3Description;
    }

    public void setGrade3Description(String grade3Description) {
        this.grade3Description = grade3Description;
    }

    public String getGrade4Description() {
        return grade4Description;
    }

    public void setGrade4Description(String grade4Description) {
        this.grade4Description = grade4Description;
    }

    public String getGrade5Description() {
        return grade5Description;
    }

    public void setGrade5Description(String grade5Description) {
        this.grade5Description = grade5Description;
    }]]></codefragment>
   </duplication>
   <duplication lines="43" tokens="124">
      <file line="141"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumVersionOccupationModuleTheme.java"/>
      <file line="117"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionOccupationModuleDto.java"/>
      <codefragment><![CDATA[    public void setAssessment(Classifier assessment) {
        this.assessment = assessment;
    }

    public String getTotalGradeDescription() {
        return totalGradeDescription;
    }

    public void setTotalGradeDescription(String totalGradeDescription) {
        this.totalGradeDescription = totalGradeDescription;
    }

    public String getPassDescription() {
        return passDescription;
    }

    public void setPassDescription(String passDescription) {
        this.passDescription = passDescription;
    }

    public String getGrade3Description() {
        return grade3Description;
    }

    public void setGrade3Description(String grade3Description) {
        this.grade3Description = grade3Description;
    }

    public String getGrade4Description() {
        return grade4Description;
    }

    public void setGrade4Description(String grade4Description) {
        this.grade4Description = grade4Description;
    }

    public String getGrade5Description() {
        return grade5Description;
    }

    public void setGrade5Description(String grade5Description) {
        this.grade5Description = grade5Description;
    }]]></codefragment>
   </duplication>
   <duplication lines="10" tokens="123">
      <file line="186"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/JournalService.java"/>
      <file line="220"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/JournalService.java"/>
      <codefragment><![CDATA[    public Page<JournalStudentDto> otherStudents(HoisUserDetails user, Long journalId, JournalStudentsSearchCommand command, Pageable pageable) {
        //TODO: kellel puudub vastavas moodulis positiivne tulemus.
        return studentRepository.findAll((root, query, cb) -> {
            root.fetch("person", JoinType.INNER);
            root.fetch("studentGroup", JoinType.LEFT);
            root.fetch("curriculumVersion", JoinType.INNER).fetch("curriculum", JoinType.INNER);

            List<Predicate> filters = new ArrayList<>();
            filters.add(cb.equal(root.get("school").get("id"), user.getSchoolId()));
            filters.add(cb.equal(root.get("status").get("code"), StudentStatus.OPPURSTAATUS_O.name()));]]></codefragment>
   </duplication>
   <duplication lines="14" tokens="123">
      <file line="47"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/timetable/JournalDto.java"/>
      <file line="37"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/timetable/JournalSearchDto.java"/>
      <codefragment><![CDATA[        dto.setPlannedHours(Integer.valueOf(journal.getJournalCapacities().stream().mapToInt(it -> it.getHours() == null ? 0 : it.getHours().intValue()).sum()));
        dto.setUsedHours(Integer.valueOf(journal.getJournalEntries().stream().mapToInt(it -> it.getLessons() == null ? 0 : it.getLessons().intValue()).sum()));
        return dto;
    }

    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getStudyYear() {]]></codefragment>
   </duplication>
   <duplication lines="14" tokens="121">
      <file line="123"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CertificateControllerTest.java"/>
      <file line="136"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CertificateControllerTest.java"/>
      <codefragment><![CDATA[        uriBuilder.queryParam("idcode", "37810012983");
        uriBuilder.build().toUriString();
        uri = uriBuilder.build().toUriString();
        response = restTemplate.getForEntity(uri, StudentSearchDto.class);
        Assert.assertNotNull(response);
        Assert.assertEquals(HttpStatus.OK, response.getStatusCode());
        Assert.assertNotNull(response.getBody());
        Assert.assertNull(response.getBody().getId());
        Assert.assertNotNull(response.getBody().getIdcode());
        Assert.assertNotNull(response.getBody().getFullname());
        
        // get person, who is student in another school
        uriBuilder = UriComponentsBuilder.fromUriString(BASE_URL + METHOD_URL);
        uriBuilder.queryParam("idcode", "37810010008");]]></codefragment>
   </duplication>
   <duplication lines="16" tokens="119">
      <file line="267"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <file line="797"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <codefragment><![CDATA[        CurriculumForm curriculumForm = getForm(LocalDate.now());
        CurriculumVersionDto version1 = getCurriculumVersionDto();

        CurriculumVersionHigherModuleDto versionModule = getCurriculumVersionHigherModuleDto();
        versionModule.setSubjects(Sets.newLinkedHashSet
                (getCurriculumVersionHigherModuleSubjectDto(Long.valueOf(33), Boolean.TRUE),
                        getCurriculumVersionHigherModuleSubjectDto(Long.valueOf(34), Boolean.FALSE)));

        CurriculumVersionElectiveModuleDto electiveModule = getCurriculumVersionElectiveModuleDto();
        electiveModule.setSubjects(Sets.newLinkedHashSet(Long.valueOf(33)));

        versionModule.setElectiveModules(Sets.newLinkedHashSet(electiveModule));
        version1.setModules(Sets.newLinkedHashSet(versionModule));
        Set<CurriculumVersionDto> versions = new HashSet<>();
        versions.add(version1);
        curriculumForm.setVersions(versions);]]></codefragment>
   </duplication>
   <duplication lines="42" tokens="117">
      <file line="143"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumVersionOccupationModuleTheme.java"/>
      <file line="143"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionOccupationModuleThemeDto.java"/>
      <file line="31"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/timetable/JournalModuleDescriptionDto.java"/>
      <codefragment><![CDATA[    }

    public String getTotalGradeDescription() {
        return totalGradeDescription;
    }

    public void setTotalGradeDescription(String totalGradeDescription) {
        this.totalGradeDescription = totalGradeDescription;
    }

    public String getPassDescription() {
        return passDescription;
    }

    public void setPassDescription(String passDescription) {
        this.passDescription = passDescription;
    }

    public String getGrade3Description() {
        return grade3Description;
    }

    public void setGrade3Description(String grade3Description) {
        this.grade3Description = grade3Description;
    }

    public String getGrade4Description() {
        return grade4Description;
    }

    public void setGrade4Description(String grade4Description) {
        this.grade4Description = grade4Description;
    }

    public String getGrade5Description() {
        return grade5Description;
    }

    public void setGrade5Description(String grade5Description) {
        this.grade5Description = grade5Description;
    }
}]]></codefragment>
   </duplication>
   <duplication lines="43" tokens="117">
      <file line="210"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/statecurriculum/StateCurriculum.java"/>
      <file line="155"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/StateCurriculumForm.java"/>
      <codefragment><![CDATA[	}

	public Double getOptionalStudyCredits() {
		return optionalStudyCredits;
	}

	public void setOptionalStudyCredits(Double optionalStudyCredits) {
		this.optionalStudyCredits = optionalStudyCredits;
	}

	public LocalDate getValidFrom() {
		return validFrom;
	}

	public void setValidFrom(LocalDate validFrom) {
		this.validFrom = validFrom;
	}

	public LocalDate getValidThru() {
		return validThru;
	}

	public void setValidThru(LocalDate validThru) {
		this.validThru = validThru;
	}

	public String getDescription() {
		return description;
	}

	public void setDescription(String description) {
		this.description = description;
	}

	public String getRiigiteatajaUrl() {
		return riigiteatajaUrl;
	}

	public void setRiigiteatajaUrl(String riigiteatajaUrl) {
		this.riigiteatajaUrl = riigiteatajaUrl;
	}

	public Set<StateCurriculumModule> getModules() {]]></codefragment>
   </duplication>
   <duplication lines="42" tokens="117">
      <file line="36"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumDto.java"/>
      <file line="18"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/MessageTemplateDto.java"/>
      <file line="48"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/StateCurriculumDto.java"/>
      <codefragment><![CDATA[    }

    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public LocalDateTime getInserted() {
        return inserted;
    }

    public void setInserted(LocalDateTime inserted) {
        this.inserted = inserted;
    }

    public String getInsertedBy() {
        return insertedBy;
    }

    public void setInsertedBy(String insertedBy) {
        this.insertedBy = insertedBy;
    }

    public LocalDateTime getChanged() {
        return changed;
    }

    public void setChanged(LocalDateTime changed) {
        this.changed = changed;
    }

    public String getChangedBy() {
        return changedBy;
    }

    public void setChangedBy(String changedBy) {
        this.changedBy = changedBy;
    }
}]]></codefragment>
   </duplication>
   <duplication lines="43" tokens="117">
      <file line="117"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/directive/DirectiveStudentDto.java"/>
      <file line="236"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/directive/DirectiveViewStudentDto.java"/>
      <codefragment><![CDATA[    }

    public Boolean getApplicationIsPeriod() {
        return applicationIsPeriod;
    }

    public void setApplicationIsPeriod(Boolean applicationIsPeriod) {
        this.applicationIsPeriod = applicationIsPeriod;
    }

    public LocalDate getApplicationStartDate() {
        return applicationStartDate;
    }

    public void setApplicationStartDate(LocalDate applicationStartDate) {
        this.applicationStartDate = applicationStartDate;
    }

    public LocalDate getApplicationEndDate() {
        return applicationEndDate;
    }

    public void setApplicationEndDate(LocalDate applicationEndDate) {
        this.applicationEndDate = applicationEndDate;
    }

    public AutocompleteResult getApplicationStudyPeriodStart() {
        return applicationStudyPeriodStart;
    }

    public void setApplicationStudyPeriodStart(AutocompleteResult applicationStudyPeriodStart) {
        this.applicationStudyPeriodStart = applicationStudyPeriodStart;
    }

    public AutocompleteResult getApplicationStudyPeriodEnd() {
        return applicationStudyPeriodEnd;
    }

    public void setApplicationStudyPeriodEnd(AutocompleteResult applicationStudyPeriodEnd) {
        this.applicationStudyPeriodEnd = applicationStudyPeriodEnd;
    }

    public static DirectiveStudentDto of(Application application, DirectiveType directiveType) {]]></codefragment>
   </duplication>
   <duplication lines="41" tokens="117">
      <file line="29"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/directive/DirectiveViewDto.java"/>
      <file line="14"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/student/StudentDirectiveDto.java"/>
      <codefragment><![CDATA[    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getHeadline() {
        return headline;
    }

    public void setHeadline(String headline) {
        this.headline = headline;
    }

    public String getType() {
        return type;
    }

    public void setType(String type) {
        this.type = type;
    }

    public String getDirectiveNr() {
        return directiveNr;
    }

    public void setDirectiveNr(String directiveNr) {
        this.directiveNr = directiveNr;
    }

    public LocalDate getConfirmDate() {
        return confirmDate;
    }

    public void setConfirmDate(LocalDate confirmDate) {
        this.confirmDate = confirmDate;
    }

    public String getAddInfo() {]]></codefragment>
   </duplication>
   <duplication lines="41" tokens="116">
      <file line="105"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumVersionOccupationModule.java"/>
      <file line="119"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionOccupationModuleDto.java"/>
      <file line="31"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/timetable/JournalModuleDescriptionDto.java"/>
      <codefragment><![CDATA[    }

    public String getTotalGradeDescription() {
        return totalGradeDescription;
    }

    public void setTotalGradeDescription(String totalGradeDescription) {
        this.totalGradeDescription = totalGradeDescription;
    }

    public String getPassDescription() {
        return passDescription;
    }

    public void setPassDescription(String passDescription) {
        this.passDescription = passDescription;
    }

    public String getGrade3Description() {
        return grade3Description;
    }

    public void setGrade3Description(String grade3Description) {
        this.grade3Description = grade3Description;
    }

    public String getGrade4Description() {
        return grade4Description;
    }

    public void setGrade4Description(String grade4Description) {
        this.grade4Description = grade4Description;
    }

    public String getGrade5Description() {
        return grade5Description;
    }

    public void setGrade5Description(String grade5Description) {
        this.grade5Description = grade5Description;
    }]]></codefragment>
   </duplication>
   <duplication lines="41" tokens="116">
      <file line="18"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/sais/SaisClassifier.java"/>
      <file line="19"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/sais/SaisClassifierDto.java"/>
      <codefragment><![CDATA[    public String getCode() {
        return code;
    }

    public void setCode(String code) {
        this.code = code;
    }

    public String getParentCode() {
        return parentCode;
    }

    public void setParentCode(String parentCode) {
        this.parentCode = parentCode;
    }

    public String getValue() {
        return value;
    }

    public void setValue(String value) {
        this.value = value;
    }

    public String getNameEt() {
        return nameEt;
    }

    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }

    public String getNameEn() {
        return nameEn;
    }

    public void setNameEn(String nameEn) {
        this.nameEn = nameEn;
    }

}]]></codefragment>
   </duplication>
   <duplication lines="41" tokens="116">
      <file line="98"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/subject/Subject.java"/>
      <file line="84"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/SubjectForm.java"/>
      <codefragment><![CDATA[    public String getCode() {
        return code;
    }

    public void setCode(String code) {
        this.code = code;
    }

    public String getNameEt() {
        return nameEt;
    }

    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }

    public String getNameEn() {
        return nameEn;
    }

    public void setNameEn(String nameEn) {
        this.nameEn = nameEn;
    }

    public String getDescription() {
        return description;
    }

    public void setDescription(String description) {
        this.description = description;
    }

    public BigDecimal getCredits() {
        return credits;
    }

    public void setCredits(BigDecimal credits) {
        this.credits = credits;
    }

    public Classifier getAssessment() {]]></codefragment>
   </duplication>
   <duplication lines="9" tokens="115">
      <file line="131"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/JournalService.java"/>
      <file line="143"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/JournalService.java"/>
      <codefragment><![CDATA[    private static void searchByTeacherPersonCriteria(HoisUserDetails user, Root<Journal> root, CriteriaQuery<?> query,
            CriteriaBuilder cb, List<Predicate> filters) {
        Subquery<Long> journalTeachersQuery = query.subquery(Long.class);
        Root<Journal> journalRoot = journalTeachersQuery.from(Journal.class);
        Join<Object, Object> journalTeachersJoin = journalRoot.join("journalTeachers");
        journalTeachersQuery.select(journalRoot.get("id"))
        .where(cb.and(
                cb.equal(journalRoot.get("id"), root.get("id")),
                cb.equal(journalTeachersJoin.get("teacher").get("person").get("id"), user.getPersonId())));]]></codefragment>
   </duplication>
   <duplication lines="11" tokens="113">
      <file line="110"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/LessonTimeControllerTests.java"/>
      <file line="194"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/LessonTimeControllerTests.java"/>
      <codefragment><![CDATA[        LessonTimeDto lessonTimeDto = new LessonTimeDto();
        lessonTimeDto.setDayMon(Boolean.TRUE);
        lessonTimeDto.setLessonNr(Integer.valueOf(1));
        lessonTimeDto.setStartTime(LocalTime.of(8, 0));
        lessonTimeDto.setEndTime(LocalTime.of(9, 0));
        lessonTimeBuildingGroupDto.setLessonTimes(new HashSet<>(Arrays.asList(lessonTimeDto)));

        form.setLessonTimeBuildingGroups(new HashSet<>(Arrays.asList(lessonTimeBuildingGroupDto)));

        responseEntity = restTemplate.postForEntity(uri, form, LessonTimeGroupsDto.class);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());]]></codefragment>
   </duplication>
   <duplication lines="10" tokens="112">
      <file line="307"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <file line="325"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <codefragment><![CDATA[        electiveModule.getSubjects().remove(Long.valueOf(33));

        responseEntity = restTemplate.exchange("/curriculum/{id}", HttpMethod.PUT, new HttpEntity<>(curriculumDto), CurriculumDto.class, curriculumDto.getId());
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
        curriculumDto = responseEntity.getBody();
        Assert.assertNotNull(curriculumDto);

        versionModule = curriculumDto.getVersions().stream().findFirst().get()
                .getModules().stream().findFirst().get();
        electiveModule = versionModule.getElectiveModules().stream().findFirst().get();]]></codefragment>
   </duplication>
   <duplication lines="34" tokens="110">
      <file line="21"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumVersionOccupationModuleCapacity.java"/>
      <file line="21"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumVersionOccupationModuleThemeCapacity.java"/>
      <codefragment><![CDATA[    @ManyToOne(optional = false, fetch = FetchType.LAZY)
    private Classifier capacityType;

    @Column(nullable = false)
    private Integer hours;

    @Column(name = "is_contact", nullable = false)
    private Boolean contact;

    public Classifier getCapacityType() {
        return capacityType;
    }

    public void setCapacityType(Classifier capacityType) {
        this.capacityType = capacityType;
    }

    public Integer getHours() {
        return hours;
    }

    public void setHours(Integer hours) {
        this.hours = hours;
    }

    public Boolean getContact() {
        return contact;
    }

    public void setContact(Boolean contact) {
        this.contact = contact;
    }

    public CurriculumVersionOccupationModule getModule() {]]></codefragment>
   </duplication>
   <duplication lines="39" tokens="109">
      <file line="109"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumVersionHigherModule.java"/>
      <file line="118"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/statecurriculum/StateCurriculum.java"/>
      <file line="106"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionHigherModuleDto.java"/>
      <codefragment><![CDATA[    }

    public void setNameEn(String nameEn) {
        this.nameEn = nameEn;
    }

    public String getObjectivesEt() {
        return objectivesEt;
    }

    public void setObjectivesEt(String objectivesEt) {
        this.objectivesEt = objectivesEt;
    }

    public String getObjectivesEn() {
        return objectivesEn;
    }

    public void setObjectivesEn(String objectivesEn) {
        this.objectivesEn = objectivesEn;
    }

    public String getOutcomesEt() {
        return outcomesEt;
    }

    public void setOutcomesEt(String outcomesEt) {
        this.outcomesEt = outcomesEt;
    }

    public String getOutcomesEn() {
        return outcomesEn;
    }

    public void setOutcomesEn(String outcomesEn) {
        this.outcomesEn = outcomesEn;
    }

    public String getTypeNameEt() {]]></codefragment>
   </duplication>
   <duplication lines="5" tokens="107">
      <file line="268"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/ApplicationService.java"/>
      <file line="69"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/util/ApplicationUtil.java"/>
      <codefragment><![CDATA[      List<Application> validAcademicLeaves = applicationRepository.findAll((root, query, cb) -> {
          List<Predicate> filters = new ArrayList<>();
          filters.add(cb.equal(root.get("student").get("id"), studentId));
          filters.add(cb.equal(root.get("type").get("code"), ApplicationType.AVALDUS_LIIK_AKAD.name()));
          filters.add(cb.equal(root.get("status").get("code"), ApplicationStatus.AVALDUS_STAATUS_KINNITATUD.name()));]]></codefragment>
   </duplication>
   <duplication lines="36" tokens="106">
      <file line="24"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/PersonForm.java"/>
      <file line="84"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/teacher/TeacherForm.java"/>
      <codefragment><![CDATA[    private LocalDate birthdate;

    @NotEmpty
    @ClassifierRestriction(MainClassCode.SUGU)
    private String sex;

    @Size(max = 100)
    private String email;
    @Size(max = 100)
    private String phone;

    public String getIdcode() {
        return idcode;
    }

    public void setIdcode(String idcode) {
        this.idcode = idcode;
    }

    public String getFirstname() {
        return firstname;
    }

    public void setFirstname(String firstname) {
        this.firstname = firstname;
    }

    public String getLastname() {
        return lastname;
    }

    public void setLastname(String lastname) {
        this.lastname = lastname;
    }

    public String getSex() {]]></codefragment>
   </duplication>
   <duplication lines="9" tokens="103">
      <file line="251"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <file line="462"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <codefragment><![CDATA[    public void setSubjectStudyPeriodsToStudentGroupsContainer(Long schoolId,
            SubjectStudyPeriodDtoContainer container) {
        List<SubjectStudyPeriod> ssps = subjectStudyPeriodRepository.findAll((root, query, cb) -> {
            List<Predicate> filters = new ArrayList<>();

            filters.add(cb.equal(root.get("studyPeriod").get("id"), container.getStudyPeriod()));
            filters.add(cb.equal(root.get("studyPeriod").get("studyYear").get("school").get("id"), schoolId));

            Subquery<Long> studentGroupSubquery = query.subquery(Long.class);]]></codefragment>
   </duplication>
   <duplication lines="10" tokens="102">
      <file line="107"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="138"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <codefragment><![CDATA[    public void importCsvValid() {
        SaisApplicationImportCsvCommand cmd = csvCmdForRows(
                admissionCode + ";Nr123456789;Mari;Maasikas;47810010009;EST;EST;RE;1.01.2012;T;first;TAIS;P;E;411;1.12.2011;1.02.2012");

        ResponseEntity<SaisApplicationImportResultDto> responseEntity =
                restTemplate.postForEntity("/saisApplications/importCsv", cmd, SaisApplicationImportResultDto.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
        Assert.assertEquals(1, responseEntity.getBody().getSuccessful().size());
        Assert.assertEquals(1, responseEntity.getBody().getSuccessful().stream().findFirst().get().getRowNr());]]></codefragment>
   </duplication>
   <duplication lines="6" tokens="100">
      <file line="125"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/MessageTemplateService.java"/>
      <file line="53"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/UserService.java"/>
      <codefragment><![CDATA[            LocalDate now = LocalDate.now();
            filters.add(cb.or(cb.lessThanOrEqualTo(root.get("validFrom"), now), cb.isNull(root.get("validFrom"))));
            filters.add(cb.or(cb.greaterThanOrEqualTo(root.get("validThru"), now), cb.isNull(root.get("validThru"))));

            return cb.and(filters.toArray(new Predicate[filters.size()]));
        }));]]></codefragment>
   </duplication>
   <duplication lines="6" tokens="99">
      <file line="94"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodPlanService.java"/>
      <file line="403"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <codefragment><![CDATA[    public List<AutocompleteResult> curriculums (Long schoolId, CurriculumSearchCommand criteria){
        List<Curriculum> curriculums = curriculumRepository.findAll((root, query, cb) -> {
            List<Predicate> filters = new ArrayList<>();
            filters.add(cb.equal(root.get("school").get("id"), schoolId));
            filters.add(cb.equal(root.get("status").get("code"), "OPPEKAVA_STAATUS_K"));
            filters.add(cb.equal(root.get("higher"), Boolean.TRUE));]]></codefragment>
   </duplication>
   <duplication lines="7" tokens="99">
      <file line="251"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <file line="462"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <file line="597"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <codefragment><![CDATA[    public void setSubjectStudyPeriodsToStudentGroupsContainer(Long schoolId,
            SubjectStudyPeriodDtoContainer container) {
        List<SubjectStudyPeriod> ssps = subjectStudyPeriodRepository.findAll((root, query, cb) -> {
            List<Predicate> filters = new ArrayList<>();

            filters.add(cb.equal(root.get("studyPeriod").get("id"), container.getStudyPeriod()));
            filters.add(cb.equal(root.get("studyPeriod").get("studyYear").get("school").get("id"), schoolId));]]></codefragment>
   </duplication>
   <duplication lines="37" tokens="99">
      <file line="27"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionOccupationModuleCapacityDto.java"/>
      <file line="27"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionOccupationModuleThemeCapacityDto.java"/>
      <codefragment><![CDATA[                EntityUtil.bindToDto(capacity, new CurriculumVersionOccupationModuleCapacityDto());
        return dto;
    }

    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getCapacityType() {
        return capacityType;
    }

    public void setCapacityType(String capacityType) {
        this.capacityType = capacityType;
    }

    public Integer getHours() {
        return hours;
    }

    public void setHours(Integer hours) {
        this.hours = hours;
    }

    public Boolean getContact() {
        return contact;
    }

    public void setContact(Boolean contact) {
        this.contact = contact;
    }

}]]></codefragment>
   </duplication>
   <duplication lines="12" tokens="96">
      <file line="158"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="170"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <codefragment><![CDATA[        SaisApplicationImportCsvCommand cmd = csvCmdForRows(admissionCode + ";;Mari;Maasikas;47810010009;EST;EST;RE;1.01.2012;T;first;TAIS;P;E;411;1.12.2011;1.02.2012");

        ResponseEntity<SaisApplicationImportResultDto> responseEntity =
                restTemplate.postForEntity("/saisApplications/importCsv", cmd, SaisApplicationImportResultDto.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
        Assert.assertEquals(1, responseEntity.getBody().getFailed().size());
        Assert.assertEquals("Puudub avalduse number", responseEntity.getBody().getFailed().stream().findFirst().get().getMessage());
    }

    @Test
    public void importCsvApplicationNrEmpty() {]]></codefragment>
   </duplication>
   <duplication lines="12" tokens="96">
      <file line="194"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="206"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <codefragment><![CDATA[        SaisApplicationImportCsvCommand cmd = csvCmdForRows(admissionCode + ";Nr123456789;Mari;Maasikas;47810010009;EST;EST;RE;;T;first;TAIS;P;E;411;1.12.2011;1.02.2012");

        ResponseEntity<SaisApplicationImportResultDto> responseEntity =
                restTemplate.postForEntity("/saisApplications/importCsv", cmd, SaisApplicationImportResultDto.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
        Assert.assertEquals(1, responseEntity.getBody().getFailed().size());
        Assert.assertEquals("Avaldusega nr Nr123456789 seotud muutmise kuupev on puudu vi on vigane.", responseEntity.getBody().getFailed().stream().findFirst().get().getMessage());
    }

    @Test
    public void importCsvSaisChangedWrongFormat() {]]></codefragment>
   </duplication>
   <duplication lines="12" tokens="96">
      <file line="230"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="242"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="254"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <codefragment><![CDATA[        SaisApplicationImportCsvCommand cmd = csvCmdForRows(admissionCode + ";Nr123456789;Mari;Maasikas;47810010009; ;EST;RE;1.01.2012;T;first;TAIS;P;E;411;1.12.2011;1.02.2012");

        ResponseEntity<SaisApplicationImportResultDto> responseEntity =
                restTemplate.postForEntity("/saisApplications/importCsv", cmd, SaisApplicationImportResultDto.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
        Assert.assertEquals(1, responseEntity.getBody().getFailed().size());
        Assert.assertEquals("Avaldusel nr Nr123456789 puudub kodakondsus.", responseEntity.getBody().getFailed().stream().findFirst().get().getMessage());
    }

    @Test
    public void importCsvCitizenshipMissing() {]]></codefragment>
   </duplication>
   <duplication lines="33" tokens="95">
      <file line="38"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/BaseEntity.java"/>
      <file line="12"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/InsertedChangedVersionDto.java"/>
      <codefragment><![CDATA[    private String changedBy;

    public LocalDateTime getInserted() {
        return inserted;
    }

    public void setInserted(LocalDateTime inserted) {
        this.inserted = inserted;
    }

    public String getInsertedBy() {
        return insertedBy;
    }

    public void setInsertedBy(String insertedBy) {
        this.insertedBy = insertedBy;
    }

    public LocalDateTime getChanged() {
        return changed;
    }

    public void setChanged(LocalDateTime changed) {
        this.changed = changed;
    }

    public String getChangedBy() {
        return changedBy;
    }

    public void setChangedBy(String changedBy) {
        this.changedBy = changedBy;
    }]]></codefragment>
   </duplication>
   <duplication lines="35" tokens="95">
      <file line="113"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumVersionHigherModule.java"/>
      <file line="122"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/statecurriculum/StateCurriculum.java"/>
      <file line="152"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/subject/Subject.java"/>
      <file line="75"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/StateCurriculumForm.java"/>
      <file line="138"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/SubjectForm.java"/>
      <file line="110"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionHigherModuleDto.java"/>
      <codefragment><![CDATA[    }

    public String getObjectivesEt() {
        return objectivesEt;
    }

    public void setObjectivesEt(String objectivesEt) {
        this.objectivesEt = objectivesEt;
    }

    public String getObjectivesEn() {
        return objectivesEn;
    }

    public void setObjectivesEn(String objectivesEn) {
        this.objectivesEn = objectivesEn;
    }

    public String getOutcomesEt() {
        return outcomesEt;
    }

    public void setOutcomesEt(String outcomesEt) {
        this.outcomesEt = outcomesEt;
    }

    public String getOutcomesEn() {
        return outcomesEn;
    }

    public void setOutcomesEn(String outcomesEn) {
        this.outcomesEn = outcomesEn;
    }

    public String getTypeNameEt() {]]></codefragment>
   </duplication>
   <duplication lines="33" tokens="95">
      <file line="36"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/GeneralMessage.java"/>
      <file line="25"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/GeneralMessageForm.java"/>
      <file line="17"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/GeneralMessageSearchCommand.java"/>
      <codefragment><![CDATA[    public String getTitle() {
        return title;
    }

    public void setTitle(String title) {
        this.title = title;
    }

    public String getContent() {
        return content;
    }

    public void setContent(String content) {
        this.content = content;
    }

    public LocalDate getValidFrom() {
        return validFrom;
    }

    public void setValidFrom(LocalDate validFrom) {
        this.validFrom = validFrom;
    }

    public LocalDate getValidThru() {
        return validThru;
    }

    public void setValidThru(LocalDate validThru) {
        this.validThru = validThru;
    }

    public List<GeneralMessageTarget> getTargets() {]]></codefragment>
   </duplication>
   <duplication lines="35" tokens="94">
      <file line="165"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/Curriculum.java"/>
      <file line="226"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/CurriculumForm.java"/>
      <codefragment><![CDATA[    }

    public String getNameEt() {
        return nameEt;
    }

    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }

    public String getNameEn() {
        return nameEn;
    }

    public void setNameEn(String nameEn) {
        this.nameEn = nameEn;
    }

    public String getNameRu() {
        return nameRu;
    }

    public void setNameRu(String nameRu) {
        this.nameRu = nameRu;
    }

    public String getCode() {
        return code;
    }

    public void setCode(String code) {
        this.code = code;
    }

    public Classifier getConsecution() {]]></codefragment>
   </duplication>
   <duplication lines="35" tokens="94">
      <file line="317"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/Curriculum.java"/>
      <file line="154"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/statecurriculum/StateCurriculum.java"/>
      <file line="306"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/CurriculumForm.java"/>
      <file line="107"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/StateCurriculumForm.java"/>
      <codefragment><![CDATA[    }

    public String getAdmissionRequirementsEt() {
        return admissionRequirementsEt;
    }

    public void setAdmissionRequirementsEt(String admissionRequirementsEt) {
        this.admissionRequirementsEt = admissionRequirementsEt;
    }

    public String getAdmissionRequirementsEn() {
        return admissionRequirementsEn;
    }

    public void setAdmissionRequirementsEn(String admissionRequirementsEn) {
        this.admissionRequirementsEn = admissionRequirementsEn;
    }

    public String getGraduationRequirementsEt() {
        return graduationRequirementsEt;
    }

    public void setGraduationRequirementsEt(String graduationRequirementsEt) {
        this.graduationRequirementsEt = graduationRequirementsEt;
    }

    public String getGraduationRequirementsEn() {
        return graduationRequirementsEn;
    }

    public void setGraduationRequirementsEn(String graduationRequirementsEn) {
        this.graduationRequirementsEn = graduationRequirementsEn;
    }

    public BigDecimal getCredits() {]]></codefragment>
   </duplication>
   <duplication lines="35" tokens="94">
      <file line="477"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/Curriculum.java"/>
      <file line="474"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/CurriculumForm.java"/>
      <codefragment><![CDATA[    }

    public LocalDate getAccreditationDate() {
        return accreditationDate;
    }

    public void setAccreditationDate(LocalDate accreditationDate) {
        this.accreditationDate = accreditationDate;
    }

    public String getAccreditationResolution() {
        return accreditationResolution;
    }

    public void setAccreditationResolution(String accreditationResolution) {
        this.accreditationResolution = accreditationResolution;
    }

    public LocalDate getAccreditationValidDate() {
        return accreditationValidDate;
    }

    public void setAccreditationValidDate(LocalDate accreditationValidDate) {
        this.accreditationValidDate = accreditationValidDate;
    }

    public String getAccreditationNr() {
        return accreditationNr;
    }

    public void setAccreditationNr(String accreditationNr) {
        this.accreditationNr = accreditationNr;
    }

    public LocalDate getValidThru() {]]></codefragment>
   </duplication>
   <duplication lines="35" tokens="94">
      <file line="83"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/sais/WsSaisLog.java"/>
      <file line="81"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/WsEhisStudentLog.java"/>
      <codefragment><![CDATA[    }

    public String getRequest() {
        return request;
    }

    public void setRequest(String request) {
        this.request = request;
    }

    public String getResponse() {
        return response;
    }

    public void setResponse(String response) {
        this.response = response;
    }

    public Boolean getHasXteeErrors() {
        return hasXteeErrors;
    }

    public void setHasXteeErrors(Boolean hasXteeErrors) {
        this.hasXteeErrors = hasXteeErrors;
    }

    public Boolean getHasOtherErrors() {
        return hasOtherErrors;
    }

    public void setHasOtherErrors(Boolean hasOtherErrors) {
        this.hasOtherErrors = hasOtherErrors;
    }

    public Long getRecordCount() {]]></codefragment>
   </duplication>
   <duplication lines="33" tokens="94">
      <file line="35"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/PersonForm.java"/>
      <file line="63"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/sais/SaisApplicationDto.java"/>
      <codefragment><![CDATA[    public String getIdcode() {
        return idcode;
    }

    public void setIdcode(String idcode) {
        this.idcode = idcode;
    }

    public String getFirstname() {
        return firstname;
    }

    public void setFirstname(String firstname) {
        this.firstname = firstname;
    }

    public String getLastname() {
        return lastname;
    }

    public void setLastname(String lastname) {
        this.lastname = lastname;
    }

    public String getSex() {
        return sex;
    }

    public void setSex(String sex) {
        this.sex = sex;
    }

    public String getEmail() {]]></codefragment>
   </duplication>
   <duplication lines="33" tokens="94">
      <file line="65"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/student/StudentRepresentativeForm.java"/>
      <file line="23"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/PersonDto.java"/>
      <codefragment><![CDATA[        public String getFirstname() {
            return firstname;
        }

        public void setFirstname(String firstname) {
            this.firstname = firstname;
        }

        public String getLastname() {
            return lastname;
        }

        public void setLastname(String lastname) {
            this.lastname = lastname;
        }

        public String getIdcode() {
            return idcode;
        }

        public void setIdcode(String idcode) {
            this.idcode = idcode;
        }

        public String getPhone() {
            return phone;
        }

        public void setPhone(String phone) {
            this.phone = phone;
        }

        public String getEmail() {]]></codefragment>
   </duplication>
   <duplication lines="35" tokens="94">
      <file line="115"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/teacher/TeacherForm.java"/>
      <file line="81"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/PersonDto.java"/>
      <codefragment><![CDATA[        }

        public String getCitizenship() {
            return citizenship;
        }

        public void setCitizenship(String citizenship) {
            this.citizenship = citizenship;
        }

        public String getNativeLanguage() {
            return nativeLanguage;
        }

        public void setNativeLanguage(String nativeLanguage) {
            this.nativeLanguage = nativeLanguage;
        }

        public LocalDate getBirthdate() {
            return birthdate;
        }

        public void setBirthdate(LocalDate birthdate) {
            this.birthdate = birthdate;
        }

        public String getSex() {
            return sex;
        }

        public void setSex(String sex) {
            this.sex = sex;
        }

        public String getEmail() {]]></codefragment>
   </duplication>
   <duplication lines="35" tokens="94">
      <file line="64"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumModuleDto.java"/>
      <file line="61"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/StateCurriculumModuleDto.java"/>
      <codefragment><![CDATA[    }

    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getModule() {
        return module;
    }

    public void setModule(String module) {
        this.module = module;
    }

    public String getNameEt() {
        return nameEt;
    }

    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }

    public String getNameEn() {
        return nameEn;
    }

    public void setNameEn(String nameEn) {
        this.nameEn = nameEn;
    }

    public Integer getCredits() {]]></codefragment>
   </duplication>
   <duplication lines="33" tokens="94">
      <file line="55"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/sais/SaisApplicationDto.java"/>
      <file line="15"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/sais/SaisApplicationSearchDto.java"/>
      <codefragment><![CDATA[    public String getApplicationNr() {
        return applicationNr;
    }

    public void setApplicationNr(String applicationNr) {
        this.applicationNr = applicationNr;
    }

    public String getIdcode() {
        return idcode;
    }

    public void setIdcode(String idcode) {
        this.idcode = idcode;
    }

    public String getFirstname() {
        return firstname;
    }

    public void setFirstname(String firstname) {
        this.firstname = firstname;
    }

    public String getLastname() {
        return lastname;
    }

    public void setLastname(String lastname) {
        this.lastname = lastname;
    }

    public String getSex() {]]></codefragment>
   </duplication>
   <duplication lines="9" tokens="94">
      <file line="307"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <file line="336"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <codefragment><![CDATA[        electiveModule.getSubjects().remove(Long.valueOf(33));

        responseEntity = restTemplate.exchange("/curriculum/{id}", HttpMethod.PUT, new HttpEntity<>(curriculumDto), CurriculumDto.class, curriculumDto.getId());
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
        curriculumDto = responseEntity.getBody();
        Assert.assertNotNull(curriculumDto);

        versionModule = curriculumDto.getVersions().stream().findFirst().get()
                .getModules().stream().findFirst().get();]]></codefragment>
   </duplication>
   <duplication lines="33" tokens="93">
      <file line="67"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumVersionOccupationModule.java"/>
      <file line="81"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionOccupationModuleDto.java"/>
      <codefragment><![CDATA[    public String getRequirementsEt() {
        return requirementsEt;
    }

    public void setRequirementsEt(String requirementsEt) {
        this.requirementsEt = requirementsEt;
    }

    public String getAssessmentsEt() {
        return assessmentsEt;
    }

    public void setAssessmentsEt(String assessmentsEt) {
        this.assessmentsEt = assessmentsEt;
    }

    public String getLearningMethodsEt() {
        return learningMethodsEt;
    }

    public void setLearningMethodsEt(String learningMethodsEt) {
        this.learningMethodsEt = learningMethodsEt;
    }

    public String getAssessmentMethodsEt() {
        return assessmentMethodsEt;
    }

    public void setAssessmentMethodsEt(String assessmentMethodsEt) {
        this.assessmentMethodsEt = assessmentMethodsEt;
    }

    public Classifier getAssessment() {]]></codefragment>
   </duplication>
   <duplication lines="33" tokens="93">
      <file line="23"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/Room.java"/>
      <file line="35"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/RoomForm.java"/>
      <codefragment><![CDATA[    public String getCode() {
        return code;
    }

    public void setCode(String code) {
        this.code = code;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public Long getSeats() {
        return seats;
    }

    public void setSeats(Long seats) {
        this.seats = seats;
    }

    public Boolean getIsStudy() {
        return isStudy;
    }

    public void setIsStudy(Boolean isStudy) {
        this.isStudy = isStudy;
    }

    public Building getBuilding() {]]></codefragment>
   </duplication>
   <duplication lines="33" tokens="93">
      <file line="63"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/school/School.java"/>
      <file line="32"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/SchoolForm.java"/>
      <codefragment><![CDATA[    public String getNameEt() {
        return nameEt;
    }

    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }

    public String getNameEn() {
        return nameEn;
    }

    public void setNameEn(String nameEn) {
        this.nameEn = nameEn;
    }

    public String getEmail() {
        return email;
    }

    public void setEmail(String email) {
        this.email = email;
    }

    public String getCode() {
        return code;
    }

    public void setCode(String code) {
        this.code = code;
    }

    public List<SchoolStudyLevel> getStudyLevels() {]]></codefragment>
   </duplication>
   <duplication lines="33" tokens="93">
      <file line="44"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumDto.java"/>
      <file line="26"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/MessageTemplateDto.java"/>
      <file line="56"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/StateCurriculumDto.java"/>
      <file line="85"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/SubjectDto.java"/>
      <codefragment><![CDATA[    }

    public LocalDateTime getInserted() {
        return inserted;
    }

    public void setInserted(LocalDateTime inserted) {
        this.inserted = inserted;
    }

    public String getInsertedBy() {
        return insertedBy;
    }

    public void setInsertedBy(String insertedBy) {
        this.insertedBy = insertedBy;
    }

    public LocalDateTime getChanged() {
        return changed;
    }

    public void setChanged(LocalDateTime changed) {
        this.changed = changed;
    }

    public String getChangedBy() {
        return changedBy;
    }

    public void setChangedBy(String changedBy) {
        this.changedBy = changedBy;
    }]]></codefragment>
   </duplication>
   <duplication lines="32" tokens="93">
      <file line="46"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumDto.java"/>
      <file line="14"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/InsertedChangedVersionDto.java"/>
      <file line="28"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/MessageTemplateDto.java"/>
      <file line="58"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/StateCurriculumDto.java"/>
      <codefragment><![CDATA[    public LocalDateTime getInserted() {
        return inserted;
    }

    public void setInserted(LocalDateTime inserted) {
        this.inserted = inserted;
    }

    public String getInsertedBy() {
        return insertedBy;
    }

    public void setInsertedBy(String insertedBy) {
        this.insertedBy = insertedBy;
    }

    public LocalDateTime getChanged() {
        return changed;
    }

    public void setChanged(LocalDateTime changed) {
        this.changed = changed;
    }

    public String getChangedBy() {
        return changedBy;
    }

    public void setChangedBy(String changedBy) {
        this.changedBy = changedBy;
    }
}]]></codefragment>
   </duplication>
   <duplication lines="33" tokens="93">
      <file line="13"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/directive/DirectiveStudentSearchDto.java"/>
      <file line="15"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/student/StudentGroupStudentDto.java"/>
      <file line="21"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/student/StudentSearchDto.java"/>
      <codefragment><![CDATA[    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getFullname() {
        return fullname;
    }

    public void setFullname(String fullname) {
        this.fullname = fullname;
    }

    public String getIdcode() {
        return idcode;
    }

    public void setIdcode(String idcode) {
        this.idcode = idcode;
    }

    public AutocompleteResult getCurriculumVersion() {
        return curriculumVersion;
    }

    public void setCurriculumVersion(AutocompleteResult curriculumVersion) {
        this.curriculumVersion = curriculumVersion;
    }

    public String getStudentGroup() {]]></codefragment>
   </duplication>
   <duplication lines="9" tokens="93">
      <file line="307"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <file line="344"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <codefragment><![CDATA[        electiveModule.getSubjects().remove(Long.valueOf(33));

        responseEntity = restTemplate.exchange("/curriculum/{id}", HttpMethod.PUT, new HttpEntity<>(curriculumDto), CurriculumDto.class, curriculumDto.getId());
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
        curriculumDto = responseEntity.getBody();
        Assert.assertNotNull(curriculumDto);

        versionModule = curriculumDto.getVersions().stream().findFirst().get()
                .getModules().stream().findFirst().get();]]></codefragment>
   </duplication>
   <duplication lines="7" tokens="93">
      <file line="325"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <file line="336"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <codefragment><![CDATA[        electiveModule.getSubjects().clear();
        responseEntity = restTemplate.exchange("/curriculum/{id}", HttpMethod.PUT, new HttpEntity<>(curriculumDto), CurriculumDto.class, curriculumDto.getId());
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
        curriculumDto = responseEntity.getBody();
        Assert.assertNotNull(curriculumDto);
        versionModule = curriculumDto.getVersions().stream().findFirst().get()
                .getModules().stream().findFirst().get();]]></codefragment>
   </duplication>
   <duplication lines="31" tokens="92">
      <file line="40"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/BaseEntity.java"/>
      <file line="46"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumDto.java"/>
      <file line="14"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/InsertedChangedVersionDto.java"/>
      <file line="28"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/MessageTemplateDto.java"/>
      <file line="58"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/StateCurriculumDto.java"/>
      <file line="87"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/SubjectDto.java"/>
      <codefragment><![CDATA[    public LocalDateTime getInserted() {
        return inserted;
    }

    public void setInserted(LocalDateTime inserted) {
        this.inserted = inserted;
    }

    public String getInsertedBy() {
        return insertedBy;
    }

    public void setInsertedBy(String insertedBy) {
        this.insertedBy = insertedBy;
    }

    public LocalDateTime getChanged() {
        return changed;
    }

    public void setChanged(LocalDateTime changed) {
        this.changed = changed;
    }

    public String getChangedBy() {
        return changedBy;
    }

    public void setChangedBy(String changedBy) {
        this.changedBy = changedBy;
    }]]></codefragment>
   </duplication>
   <duplication lines="24" tokens="92">
      <file line="20"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/school/StudyYearScheduleLegend.java"/>
      <file line="37"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/StudyYearScheduleLegendDto.java"/>
      <codefragment><![CDATA[    public String getCode() {
        return code;
    }
    public void setCode(String code) {
        this.code = code;
    }
    public String getNameEt() {
        return nameEt;
    }
    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }
    public String getNameEn() {
        return nameEn;
    }
    public void setNameEn(String nameEn) {
        this.nameEn = nameEn;
    }
    public String getColor() {
        return color;
    }
    public void setColor(String color) {
        this.color = color;
    }]]></codefragment>
   </duplication>
   <duplication lines="13" tokens="90">
      <file line="33"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/MessageControllerTest.java"/>
      <file line="46"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/MessageControllerTest.java"/>
      <codefragment><![CDATA[        UriComponentsBuilder uriBuilder = UriComponentsBuilder.fromUriString(BASE_URL + "/sent");
        uriBuilder.queryParam("subject", Boolean.TRUE);
        uriBuilder.queryParam("sender", "3211212");
        uriBuilder.queryParam("sentFrom", "2016-12-31T22:00:00.000Z");
        uriBuilder.queryParam("sentThru", "2017-01-31T22:00:00.000Z");
        uriBuilder.queryParam("sort", "sender.lastname,sender.firstname,asc");
        String url = uriBuilder.build().toUriString();
        ResponseEntity<Object> responseEntity = restTemplate.getForEntity(url, Object.class);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
    }

    @Test
    public void searchSentAutomatic() {]]></codefragment>
   </duplication>
   <duplication lines="11" tokens="89">
      <file line="231"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SaisAdmissionService.java"/>
      <file line="722"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SaisApplicationService.java"/>
      <codefragment><![CDATA[    }

    private XRoadHeader getHeader(HoisUserDetails user) {
        XRoadHeader xRoadHeader = new XRoadHeader();

        xRoadHeader.setConsumer(sp.getConsumer());
        xRoadHeader.setEndpoint(sp.getEndpoint());
        xRoadHeader.setProducer(sp.getProducer());
        xRoadHeader.setUserId(sp.getUseridprefix() + personRepository.getOne(user.getPersonId()).getIdcode());
        xRoadHeader.setId(UUID.randomUUID().toString());
        xRoadHeader.setService("sais2.AllAdmissionsExport.v1");]]></codefragment>
   </duplication>
   <duplication lines="6" tokens="88">
      <file line="83"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/MessageTemplateService.java"/>
      <file line="146"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/StateCurriculumService.java"/>
      <codefragment><![CDATA[            if(Boolean.TRUE.equals(criteria.getValid())) {
                LocalDate now = LocalDate.now();
                filters.add(cb.or(cb.lessThanOrEqualTo(root.get("validFrom"), now), cb.isNull(root.get("validFrom"))));
                filters.add(cb.or(cb.greaterThanOrEqualTo(root.get("validThru"), now), cb.isNull(root.get("validThru"))));
            }
            if(criteria.getType() != null && !criteria.getType().isEmpty()) {]]></codefragment>
   </duplication>
   <duplication lines="12" tokens="86">
      <file line="44"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/JsonBindingTests.java"/>
      <file line="81"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/JsonBindingTests.java"/>
      <codefragment><![CDATA[    public void serializeSchoolJson() throws IOException {
        School school = new School();
        school.setNameEt("Nimetus eesti keeles");
        school.setNameEn("Name in english");
        school.setEmail("a@b.c");
        school.setCode("school code");
        school.setInserted(LocalDateTime.now());
        school.setChanged(LocalDateTime.now());
        school.setVersion(Long.valueOf(2));
        Classifier ehisSchool = new Classifier();
        ehisSchool.setCode("EHIS_SCHOOL_1");
        school.setEhisSchool(ehisSchool);]]></codefragment>
   </duplication>
   <duplication lines="8" tokens="85">
      <file line="171"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/LessonTimeControllerTests.java"/>
      <file line="194"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/LessonTimeControllerTests.java"/>
      <codefragment><![CDATA[        LessonTimeDto lessonTimeDto = new LessonTimeDto();
        lessonTimeDto.setDayMon(Boolean.TRUE);
        lessonTimeDto.setLessonNr(Integer.valueOf(1));
        lessonTimeDto.setStartTime(LocalTime.of(8, 0));
        lessonTimeDto.setEndTime(LocalTime.of(9, 0));
        lessonTimeBuildingGroupDto.setLessonTimes(new HashSet<>(Arrays.asList(lessonTimeDto)));

        form.setLessonTimeBuildingGroups(new HashSet<>(Arrays.asList(lessonTimeBuildingGroupDto)));]]></codefragment>
   </duplication>
   <duplication lines="9" tokens="84">
      <file line="233"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SaisAdmissionService.java"/>
      <file line="724"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SaisApplicationService.java"/>
      <file line="89"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SaisClassifierService.java"/>
      <codefragment><![CDATA[    private XRoadHeader getHeader(HoisUserDetails user) {
        XRoadHeader xRoadHeader = new XRoadHeader();

        xRoadHeader.setConsumer(sp.getConsumer());
        xRoadHeader.setEndpoint(sp.getEndpoint());
        xRoadHeader.setProducer(sp.getProducer());
        xRoadHeader.setUserId(sp.getUseridprefix() + personRepository.getOne(user.getPersonId()).getIdcode());
        xRoadHeader.setId(UUID.randomUUID().toString());
        xRoadHeader.setService("sais2.AllAdmissionsExport.v1");]]></codefragment>
   </duplication>
   <duplication lines="7" tokens="84">
      <file line="70"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodPlanService.java"/>
      <file line="536"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <codefragment><![CDATA[    public Page<SubjectStudyPeriodPlanSearchDtoContainer> search(Long schoolId, SubjectStudyPeriodPlanSearchCommand criteria,
            Pageable pageable) {

        return subjectRepository.findAll((root, query, cb) -> {
            List<Predicate> filters = new ArrayList<>();
            filters.add(cb.equal(root.get("school").get("id"), schoolId));
            filters.add(cb.equal(root.get("status").get("code"), SubjectStatus.AINESTAATUS_K.name()));]]></codefragment>
   </duplication>
   <duplication lines="12" tokens="84">
      <file line="69"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CertificateControllerTest.java"/>
      <file line="89"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/MessageControllerTest.java"/>
      <codefragment><![CDATA[        CertificateDto dto = responseEntity.getBody();
        Assert.assertNotNull(dto);
        Long id = dto.getId();
        Assert.assertNotNull(id);
        Long version = dto.getVersion();
        Assert.assertNotNull(version);
        Assert.assertEquals(Long.valueOf(0), version);
        
        //read
        uriBuilder = UriComponentsBuilder.fromUriString(BASE_URL).pathSegment(id.toString());
        uri = uriBuilder.build().toUriString();
        ResponseEntity<CertificateDto> response = restTemplate.getForEntity(uri, CertificateDto.class);]]></codefragment>
   </duplication>
   <duplication lines="30" tokens="82">
      <file line="18"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/directive/DirectiveCoordinator.java"/>
      <file line="16"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/directive/DirectiveCoordinatorForm.java"/>
      <codefragment><![CDATA[    private String idcode;
    private Boolean isDirective;
    private Boolean isCertificate;
    private Boolean isCertificateDefault;
    
    public Boolean getIsDirective() {
        return isDirective;
    }

    public void setIsDirective(Boolean isDirective) {
        this.isDirective = isDirective;
    }

    public Boolean getIsCertificate() {
        return isCertificate;
    }

    public void setIsCertificate(Boolean isCertificate) {
        this.isCertificate = isCertificate;
    }

    public Boolean getIsCertificateDefault() {
        return isCertificateDefault;
    }

    public void setIsCertificateDefault(Boolean isCertificateDefault) {
        this.isCertificateDefault = isCertificateDefault;
    }

    public School getSchool() {]]></codefragment>
   </duplication>
   <duplication lines="19" tokens="82">
      <file line="32"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/statecurriculum/StateCurriculumModuleOccupation.java"/>
      <file line="29"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/statecurriculum/StateCurriculumOccupation.java"/>
      <codefragment><![CDATA[    }
	
	@Override
	public int hashCode() {
		final int prime = 31;
		int result = 1;
		result = prime * result + ((occupation == null) ? 0 : occupation.hashCode());
		return result;
	}

	@Override
	public boolean equals(Object obj) {
		if (this == obj)
			return true;
		if (obj == null)
			return false;
        // TODO does not work with hibernate proxy
		if (getClass() != obj.getClass())
			return false;]]></codefragment>
   </duplication>
   <duplication lines="29" tokens="79">
      <file line="66"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/directive/Directive.java"/>
      <file line="49"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/directive/DirectiveViewDto.java"/>
      <codefragment><![CDATA[    public void setType(Classifier type) {
        this.type = type;
    }

    public String getDirectiveNr() {
        return directiveNr;
    }

    public void setDirectiveNr(String directiveNr) {
        this.directiveNr = directiveNr;
    }

    public LocalDate getConfirmDate() {
        return confirmDate;
    }

    public void setConfirmDate(LocalDate confirmDate) {
        this.confirmDate = confirmDate;
    }

    public String getAddInfo() {
        return addInfo;
    }

    public void setAddInfo(String addInfo) {
        this.addInfo = addInfo;
    }

    public Classifier getStatus() {]]></codefragment>
   </duplication>
   <duplication lines="28" tokens="79">
      <file line="75"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/teacher/TeacherQualification.java"/>
      <file line="75"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/teacher/TeacherQualificationFrom.java"/>
      <codefragment><![CDATA[    public void setExSchool(Classifier exSchool) {
        this.exSchool = exSchool;
    }

    public String getQualificationOther() {
        return qualificationOther;
    }

    public void setQualificationOther(String qualificationOther) {
        this.qualificationOther = qualificationOther;
    }

    public Short getYear() {
        return year;
    }

    public void setYear(Short year) {
        this.year = year;
    }

    public String getSchoolOther() {
        return schoolOther;
    }

    public void setSchoolOther(String schoolOther) {
        this.schoolOther = schoolOther;
    }
}]]></codefragment>
   </duplication>
   <duplication lines="3" tokens="78">
      <file line="84"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/MessageTemplateService.java"/>
      <file line="125"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/MessageTemplateService.java"/>
      <file line="147"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/StateCurriculumService.java"/>
      <file line="53"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/UserService.java"/>
      <codefragment><![CDATA[                LocalDate now = LocalDate.now();
                filters.add(cb.or(cb.lessThanOrEqualTo(root.get("validFrom"), now), cb.isNull(root.get("validFrom"))));
                filters.add(cb.or(cb.greaterThanOrEqualTo(root.get("validThru"), now), cb.isNull(root.get("validThru"))));]]></codefragment>
   </duplication>
   <duplication lines="27" tokens="78">
      <file line="64"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/student/StudentGroupForm.java"/>
      <file line="23"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/student/StudentGroupResult.java"/>
      <codefragment><![CDATA[    public void setCurriculum(AutocompleteResult curriculum) {
        this.curriculum = curriculum;
    }

    public Long getCurriculumVersion() {
        return curriculumVersion;
    }

    public void setCurriculumVersion(Long curriculumVersion) {
        this.curriculumVersion = curriculumVersion;
    }

    public String getStudyForm() {
        return studyForm;
    }

    public void setStudyForm(String studyForm) {
        this.studyForm = studyForm;
    }

    public String getLanguage() {
        return language;
    }

    public void setLanguage(String language) {
        this.language = language;
    }]]></codefragment>
   </duplication>
   <duplication lines="25" tokens="76">
      <file line="10"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/OisFile.java"/>
      <file line="14"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/OisFileCommand.java"/>
      <codefragment><![CDATA[    private String ftype;

    public byte[] getFdata() {
        return fdata;
    }

    public void setFdata(byte[] fdata) {
        this.fdata = fdata;
    }

    public String getFname() {
        return fname;
    }

    public void setFname(String fname) {
        this.fname = fname;
    }

    public String getFtype() {
        return ftype;
    }

    public void setFtype(String ftype) {
        this.ftype = ftype;
    }]]></codefragment>
   </duplication>
   <duplication lines="27" tokens="76">
      <file line="13"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/TeacherOccupationForm.java"/>
      <file line="6"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/TeacherOccupationSearchCommand.java"/>
      <codefragment><![CDATA[    private String occupationEn;
    private Boolean isValid;

    public String getOccupationEt() {
        return occupationEt;
    }

    public void setOccupationEt(String occupationEt) {
        this.occupationEt = occupationEt;
    }

    public String getOccupationEn() {
        return occupationEn;
    }

    public void setOccupationEn(String occupationEn) {
        this.occupationEn = occupationEn;
    }

    public Boolean getIsValid() {
        return isValid;
    }

    public void setIsValid(Boolean isValid) {
        this.isValid = isValid;
    }
}]]></codefragment>
   </duplication>
   <duplication lines="29" tokens="76">
      <file line="34"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumGradeDto.java"/>
      <file line="242"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/timetable/LessonPlanDto.java"/>
      <codefragment><![CDATA[        CurriculumGradeDto dto = EntityUtil.bindToDto(grade, new CurriculumGradeDto());
        return dto;
    }

    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getNameEt() {
        return nameEt;
    }

    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }

    public String getNameEn() {
        return nameEn;
    }

    public void setNameEn(String nameEn) {
        this.nameEn = nameEn;
    }

    public String getNameGenitiveEt() {]]></codefragment>
   </duplication>
   <duplication lines="25" tokens="76">
      <file line="39"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/timetable/LessonTimeBuildingGroupDto.java"/>
      <file line="125"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/timetable/LessonTimeSearchDto.java"/>
      <codefragment><![CDATA[    }

    public LocalDate getValidFrom() {
        return validFrom;
    }

    public void setValidFrom(LocalDate validFrom) {
        this.validFrom = validFrom;
    }

    public LocalDate getValidThru() {
        return validThru;
    }

    public void setValidThru(LocalDate validThru) {
        this.validThru = validThru;
    }

    public Set<AutocompleteResult> getBuildings() {
        return buildings;
    }

    public void setBuildings(Set<AutocompleteResult> buildings) {
        this.buildings = buildings;
    }]]></codefragment>
   </duplication>
   <duplication lines="6" tokens="76">
      <file line="442"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <file line="455"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <codefragment><![CDATA[        updatedSpeciality.setNameEt("CurriculumControllerTest changed 2");
        responseEntity = restTemplate.exchange("/curriculum/{id}", HttpMethod.PUT, new HttpEntity<>(updatedCurriculum), CurriculumDto.class, testCurriculum.getId());
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
        updatedCurriculum = responseEntity.getBody();
        Assert.assertNotNull(updatedCurriculum);
        updatedSpeciality = updatedCurriculum.getSpecialities().stream().filter(s -> s.getNameEt()]]></codefragment>
   </duplication>
   <duplication lines="6" tokens="75">
      <file line="157"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectService.java"/>
      <file line="81"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodPlanService.java"/>
      <codefragment><![CDATA[            if (!CollectionUtils.isEmpty(curricula)) {
                Subquery<Long> curriculaQuery = query.subquery(Long.class);
                Root<CurriculumVersion> curriculumVersionRoot = curriculaQuery.from(CurriculumVersion.class);
                curriculaQuery = curriculaQuery
                        .select(curriculumVersionRoot.join("modules").join("subjects").get("subject").get("id"))
                        .where(curriculumVersionRoot.get("curriculum").get("id").in(curricula));]]></codefragment>
   </duplication>
   <duplication lines="11" tokens="74">
      <file line="149"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/StateCurriculumControllerTest.java"/>
      <file line="188"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/StateCurriculumControllerTest.java"/>
      <file line="228"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/StateCurriculumControllerTest.java"/>
      <codefragment><![CDATA[        module.getModuleOccupations().remove("KUTSE_10512175");
        
        
        
        responseEntity = restTemplate.exchange("/stateCurriculum/{id}", HttpMethod.PUT, new HttpEntity<>(stateCurriculumDto), StateCurriculumDto.class, stateCurriculumDto.getId());
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
        Assert.assertNotNull(responseEntity.getBody());
        stateCurriculumDto = responseEntity.getBody();
        
        Assert.assertTrue(stateCurriculumDto.getNameEt().equals("StateCurriculumControllerTest2"));]]></codefragment>
   </duplication>
   <duplication lines="12" tokens="73">
      <file line="334"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <file line="500"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <codefragment><![CDATA[        }).collect(Collectors.toList());

        container.setSubjectStudyPeriodPlans(StreamUtil.toMappedList(plan -> {
            SubjectStudyPeriodPlanDto dto = new SubjectStudyPeriodPlanDto();
            dto.setId(EntityUtil.getId(plan));
            dto.setSubject(EntityUtil.getId(plan.getSubject()));
            dto.setCapacities(StreamUtil.toMappedSet(SubjectStudyPeriodPlanCapacityDto::of, plan.getCapacities()));
            return dto;
        }, plans));
    }

    public void updateSspCapacities(Long schoolId, SubjectStudyPeriodDtoContainer container) {]]></codefragment>
   </duplication>
   <duplication lines="27" tokens="72">
      <file line="131"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/Classifier.java"/>
      <file line="165"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/Curriculum.java"/>
      <file line="226"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/CurriculumForm.java"/>
      <codefragment><![CDATA[    }

    public String getNameEt() {
        return nameEt;
    }

    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }

    public String getNameEn() {
        return nameEn;
    }

    public void setNameEn(String nameEn) {
        this.nameEn = nameEn;
    }

    public String getNameRu() {
        return nameRu;
    }

    public void setNameRu(String nameRu) {
        this.nameRu = nameRu;
    }

    public String getDescription() {]]></codefragment>
   </duplication>
   <duplication lines="27" tokens="72">
      <file line="78"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumSpeciality.java"/>
      <file line="68"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumSpecialityDto.java"/>
      <file line="42"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/SubjectSearchDto.java"/>
      <codefragment><![CDATA[    }

    public String getNameEt() {
		return nameEt;
	}

	public void setNameEt(String nameEt) {
		this.nameEt = nameEt;
	}

	public String getNameEn() {
		return nameEn;
	}

	public void setNameEn(String nameEn) {
		this.nameEn = nameEn;
	}

	public BigDecimal getCredits() {
		return credits;
	}

	public void setCredits(BigDecimal credits) {
		this.credits = credits;
	}

	public String getDescription() {]]></codefragment>
   </duplication>
   <duplication lines="27" tokens="72">
      <file line="210"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/statecurriculum/StateCurriculum.java"/>
      <file line="538"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/CurriculumForm.java"/>
      <file line="155"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/StateCurriculumForm.java"/>
      <codefragment><![CDATA[	}

	public Double getOptionalStudyCredits() {
		return optionalStudyCredits;
	}

	public void setOptionalStudyCredits(Double optionalStudyCredits) {
		this.optionalStudyCredits = optionalStudyCredits;
	}

	public LocalDate getValidFrom() {
		return validFrom;
	}

	public void setValidFrom(LocalDate validFrom) {
		this.validFrom = validFrom;
	}

	public LocalDate getValidThru() {
		return validThru;
	}

	public void setValidThru(LocalDate validThru) {
		this.validThru = validThru;
	}

	public String getDescription() {]]></codefragment>
   </duplication>
   <duplication lines="27" tokens="72">
      <file line="96"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/subject/Subject.java"/>
      <file line="37"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/ClassifierDto.java"/>
      <file line="35"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/StudyYearScheduleLegendDto.java"/>
      <codefragment><![CDATA[    }

    public String getCode() {
        return code;
    }

    public void setCode(String code) {
        this.code = code;
    }

    public String getNameEt() {
        return nameEt;
    }

    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }

    public String getNameEn() {
        return nameEn;
    }

    public void setNameEn(String nameEn) {
        this.nameEn = nameEn;
    }

    public String getDescription() {]]></codefragment>
   </duplication>
   <duplication lines="8" tokens="72">
      <file line="264"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <file line="473"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <file line="602"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <codefragment><![CDATA[            filters.add(root.get("id").in(studentGroupSubquery));
            return cb.and(filters.toArray(new Predicate[filters.size()]));
        });
        List<SubjectStudyPeriodDto> subjectStudyPeriodDtos = StreamUtil.toMappedList(ssp -> {
            SubjectStudyPeriodDto dto = new SubjectStudyPeriodDto();
            dto.setId(EntityUtil.getId(ssp));
            dto.setSubject(EntityUtil.getId(ssp.getSubject()));
            dto.setTeachers(StreamUtil.toMappedList(SubjectStudyPeriodTeacherDto::of, ssp.getTeachers()));]]></codefragment>
   </duplication>
   <duplication lines="7" tokens="72">
      <file line="49"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/AutocompleteController.java"/>
      <file line="59"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/AutocompleteController.java"/>
      <codefragment><![CDATA[    public List<ClassifierSelection> classifiers(@RequestParam(name = "mainClassCode", required = false) String mainClassCode,
            @RequestParam(name = "mainClassCodes", required = false) List<String> mainClassCodes) {
        if (mainClassCode == null && mainClassCodes == null) {
            throw new IllegalArgumentException("mainClassCode or mainClassCodes must be specified");
        }
        List<String> codes = mainClassCodes != null ? mainClassCodes : Collections.singletonList(mainClassCode);
        return autocompleteService.classifiers(codes);]]></codefragment>
   </duplication>
   <duplication lines="27" tokens="72">
      <file line="229"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/directive/DirectiveForm.java"/>
      <file line="135"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/student/StudentViewDto.java"/>
      <codefragment><![CDATA[        }

        public String getStudyLoad() {
            return studyLoad;
        }

        public void setStudyLoad(String studyLoad) {
            this.studyLoad = studyLoad;
        }

        public String getFin() {
            return fin;
        }

        public void setFin(String fin) {
            this.fin = fin;
        }

        public String getFinSpecific() {
            return finSpecific;
        }

        public void setFinSpecific(String finSpecific) {
            this.finSpecific = finSpecific;
        }

        public String getLanguage() {]]></codefragment>
   </duplication>
   <duplication lines="27" tokens="72">
      <file line="245"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/directive/DirectiveForm.java"/>
      <file line="164"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/directive/DirectiveViewStudentDto.java"/>
      <codefragment><![CDATA[        }

        public String getFinSpecific() {
            return finSpecific;
        }

        public void setFinSpecific(String finSpecific) {
            this.finSpecific = finSpecific;
        }

        public String getLanguage() {
            return language;
        }

        public void setLanguage(String language) {
            this.language = language;
        }

        public String getPreviousStudyLevel() {
            return previousStudyLevel;
        }

        public void setPreviousStudyLevel(String previousStudyLevel) {
            this.previousStudyLevel = previousStudyLevel;
        }

        public String getEmail() {]]></codefragment>
   </duplication>
   <duplication lines="27" tokens="72">
      <file line="309"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/directive/DirectiveForm.java"/>
      <file line="276"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/directive/DirectiveViewStudentDto.java"/>
      <codefragment><![CDATA[        }

        public Boolean getIsAbroad() {
            return isAbroad;
        }

        public void setIsAbroad(Boolean isAbroad) {
            this.isAbroad = isAbroad;
        }

        public String getEhisSchool() {
            return ehisSchool;
        }

        public void setEhisSchool(String ehisSchool) {
            this.ehisSchool = ehisSchool;
        }

        public String getAbroadSchool() {
            return abroadSchool;
        }

        public void setAbroadSchool(String abroadSchool) {
            this.abroadSchool = abroadSchool;
        }

        public String getCountry() {]]></codefragment>
   </duplication>
   <duplication lines="27" tokens="72">
      <file line="36"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumGradeDto.java"/>
      <file line="86"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionHigherModuleDto.java"/>
      <codefragment><![CDATA[    }

    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getNameEt() {
        return nameEt;
    }

    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }

    public String getNameEn() {
        return nameEn;
    }

    public void setNameEn(String nameEn) {
        this.nameEn = nameEn;
    }

    public String getNameGenitiveEt() {]]></codefragment>
   </duplication>
   <duplication lines="27" tokens="72">
      <file line="60"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/directive/DirectiveViewStudentDto.java"/>
      <file line="61"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/sais/SaisApplicationDto.java"/>
      <file line="21"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/sais/SaisApplicationSearchDto.java"/>
      <codefragment><![CDATA[    }

    public String getIdcode() {
        return idcode;
    }

    public void setIdcode(String idcode) {
        this.idcode = idcode;
    }

    public String getFirstname() {
        return firstname;
    }

    public void setFirstname(String firstname) {
        this.firstname = firstname;
    }

    public String getLastname() {
        return lastname;
    }

    public void setLastname(String lastname) {
        this.lastname = lastname;
    }

    public String getFullname() {]]></codefragment>
   </duplication>
   <duplication lines="27" tokens="71">
      <file line="131"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/Classifier.java"/>
      <file line="165"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/Curriculum.java"/>
      <file line="226"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/CurriculumForm.java"/>
      <file line="45"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/ClassifierDto.java"/>
      <codefragment><![CDATA[    }

    public String getNameEt() {
        return nameEt;
    }

    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }

    public String getNameEn() {
        return nameEn;
    }

    public void setNameEn(String nameEn) {
        this.nameEn = nameEn;
    }

    public String getNameRu() {
        return nameRu;
    }

    public void setNameRu(String nameRu) {
        this.nameRu = nameRu;
    }

    public String getDescription() {]]></codefragment>
   </duplication>
   <duplication lines="27" tokens="71">
      <file line="78"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumSpeciality.java"/>
      <file line="85"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumSearchDto.java"/>
      <file line="68"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumSpecialityDto.java"/>
      <file line="42"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/SubjectSearchDto.java"/>
      <codefragment><![CDATA[    }

    public String getNameEt() {
		return nameEt;
	}

	public void setNameEt(String nameEt) {
		this.nameEt = nameEt;
	}

	public String getNameEn() {
		return nameEn;
	}

	public void setNameEn(String nameEn) {
		this.nameEn = nameEn;
	}

	public BigDecimal getCredits() {
		return credits;
	}

	public void setCredits(BigDecimal credits) {
		this.credits = credits;
	}

	public String getDescription() {]]></codefragment>
   </duplication>
   <duplication lines="25" tokens="71">
      <file line="160"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/directive/DirectiveStudent.java"/>
      <file line="56"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/student/StudentBase.java"/>
      <codefragment><![CDATA[    public CurriculumVersion getCurriculumVersion() {
        return curriculumVersion;
    }

    public void setCurriculumVersion(CurriculumVersion curriculumVersion) {
        this.curriculumVersion = curriculumVersion;
    }

    public Classifier getStudyForm() {
        return studyForm;
    }

    public void setStudyForm(Classifier studyForm) {
        this.studyForm = studyForm;
    }

    public StudentGroup getStudentGroup() {
        return studentGroup;
    }

    public void setStudentGroup(StudentGroup studentGroup) {
        this.studentGroup = studentGroup;
    }

    public Classifier getFin() {]]></codefragment>
   </duplication>
   <duplication lines="27" tokens="71">
      <file line="36"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/sais/SaisApplicationGrade.java"/>
      <file line="25"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/sais/SaisApplicationGradeDto.java"/>
      <codefragment><![CDATA[    }

    public String getSubjectName() {
        return subjectName;
    }

    public void setSubjectName(String subjectName) {
        this.subjectName = subjectName;
    }

    public String getSubjectType() {
        return subjectType;
    }

    public void setSubjectType(String subjectType) {
        this.subjectType = subjectType;
    }

    public String getGrade() {
        return grade;
    }

    public void setGrade(String grade) {
        this.grade = grade;
    }

}]]></codefragment>
   </duplication>
   <duplication lines="19" tokens="71">
      <file line="20"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/school/StudyYearScheduleLegend.java"/>
      <file line="98"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/subject/Subject.java"/>
      <file line="84"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/SubjectForm.java"/>
      <file line="39"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/ClassifierDto.java"/>
      <file line="37"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/StudyYearScheduleLegendDto.java"/>
      <codefragment><![CDATA[    public String getCode() {
        return code;
    }
    public void setCode(String code) {
        this.code = code;
    }
    public String getNameEt() {
        return nameEt;
    }
    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }
    public String getNameEn() {
        return nameEn;
    }
    public void setNameEn(String nameEn) {
        this.nameEn = nameEn;
    }
    public String getColor() {]]></codefragment>
   </duplication>
   <duplication lines="27" tokens="71">
      <file line="96"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/subject/Subject.java"/>
      <file line="37"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/ClassifierDto.java"/>
      <file line="35"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/StudyYearScheduleLegendDto.java"/>
      <file line="34"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/SubjectSearchDto.java"/>
      <codefragment><![CDATA[    }

    public String getCode() {
        return code;
    }

    public void setCode(String code) {
        this.code = code;
    }

    public String getNameEt() {
        return nameEt;
    }

    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }

    public String getNameEn() {
        return nameEn;
    }

    public void setNameEn(String nameEn) {
        this.nameEn = nameEn;
    }

    public String getDescription() {]]></codefragment>
   </duplication>
   <duplication lines="3" tokens="71">
      <file line="84"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/MessageTemplateService.java"/>
      <file line="100"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/MessageTemplateService.java"/>
      <file line="125"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/MessageTemplateService.java"/>
      <file line="147"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/StateCurriculumService.java"/>
      <file line="53"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/UserService.java"/>
      <codefragment><![CDATA[                LocalDate now = LocalDate.now();
                filters.add(cb.or(cb.lessThanOrEqualTo(root.get("validFrom"), now), cb.isNull(root.get("validFrom"))));
                filters.add(cb.or(cb.greaterThanOrEqualTo(root.get("validThru"), now), cb.isNull(root.get("validThru"))));]]></codefragment>
   </duplication>
   <duplication lines="27" tokens="71">
      <file line="207"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/ApplicationForm.java"/>
      <file line="92"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/directive/DirectiveViewStudentDto.java"/>
      <codefragment><![CDATA[    }

    public Boolean getIsPeriod() {
        return isPeriod;
    }

    public void setIsPeriod(Boolean isPeriod) {
        this.isPeriod = isPeriod;
    }

    public LocalDate getStartDate() {
        return startDate;
    }

    public void setStartDate(LocalDate startDate) {
        this.startDate = startDate;
    }

    public LocalDate getEndDate() {
        return endDate;
    }

    public void setEndDate(LocalDate endDate) {
        this.endDate = endDate;
    }

    public Long getStudyPeriodStart() {]]></codefragment>
   </duplication>
   <duplication lines="27" tokens="71">
      <file line="287"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/ApplicationForm.java"/>
      <file line="333"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/directive/DirectiveForm.java"/>
      <file line="308"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/directive/DirectiveViewStudentDto.java"/>
      <codefragment><![CDATA[    }

    public String getCountry() {
        return country;
    }

    public void setCountry(String country) {
        this.country = country;
    }

    public String getAbroadPurpose() {
        return abroadPurpose;
    }

    public void setAbroadPurpose(String abroadPurpose) {
        this.abroadPurpose = abroadPurpose;
    }

    public String getAbroadProgramme() {
        return abroadProgramme;
    }

    public void setAbroadProgramme(String abroadProgramme) {
        this.abroadProgramme = abroadProgramme;
    }

    public Set<ApplicationPlannedSubjectDto> getPlannedSubjects() {]]></codefragment>
   </duplication>
   <duplication lines="27" tokens="71">
      <file line="157"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/directive/DirectiveForm.java"/>
      <file line="60"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/directive/DirectiveViewStudentDto.java"/>
      <file line="61"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/sais/SaisApplicationDto.java"/>
      <file line="21"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/sais/SaisApplicationSearchDto.java"/>
      <codefragment><![CDATA[        }

        public String getIdcode() {
            return idcode;
        }

        public void setIdcode(String idcode) {
            this.idcode = idcode;
        }

        public String getFirstname() {
            return firstname;
        }

        public void setFirstname(String firstname) {
            this.firstname = firstname;
        }

        public String getLastname() {
            return lastname;
        }

        public void setLastname(String lastname) {
            this.lastname = lastname;
        }

        public LocalDate getStartDate() {]]></codefragment>
   </duplication>
   <duplication lines="25" tokens="71">
      <file line="35"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/PersonForm.java"/>
      <file line="93"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/teacher/TeacherForm.java"/>
      <file line="62"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/directive/DirectiveViewStudentDto.java"/>
      <file line="63"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/sais/SaisApplicationDto.java"/>
      <file line="23"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/sais/SaisApplicationSearchDto.java"/>
      <codefragment><![CDATA[    public String getIdcode() {
        return idcode;
    }

    public void setIdcode(String idcode) {
        this.idcode = idcode;
    }

    public String getFirstname() {
        return firstname;
    }

    public void setFirstname(String firstname) {
        this.firstname = firstname;
    }

    public String getLastname() {
        return lastname;
    }

    public void setLastname(String lastname) {
        this.lastname = lastname;
    }

    public String getSex() {]]></codefragment>
   </duplication>
   <duplication lines="27" tokens="71">
      <file line="57"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/PersonForm.java"/>
      <file line="139"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/teacher/TeacherForm.java"/>
      <codefragment><![CDATA[    }

    public String getSex() {
        return sex;
    }

    public void setSex(String sex) {
        this.sex = sex;
    }

    public String getEmail() {
        return email;
    }

    public void setEmail(String email) {
        this.email = email;
    }

    public String getPhone() {
        return phone;
    }

    public void setPhone(String phone) {
        this.phone = phone;
    }

    public LocalDate getBirthdate() {]]></codefragment>
   </duplication>
   <duplication lines="19" tokens="71">
      <file line="87"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/sais/SaisApplicationCsvRow.java"/>
      <file line="65"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/student/StudentRepresentativeForm.java"/>
      <file line="23"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/PersonDto.java"/>
      <file line="241"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/student/StudentViewDto.java"/>
      <codefragment><![CDATA[    public String getFirstname() {
        return firstname;
    }
    public void setFirstname(String firstname) {
        this.firstname = firstname;
    }
    public String getLastname() {
        return lastname;
    }
    public void setLastname(String lastname) {
        this.lastname = lastname;
    }
    public String getIdcode() {
        return idcode;
    }
    public void setIdcode(String idcode) {
        this.idcode = idcode;
    }
    public String getCitizenship() {]]></codefragment>
   </duplication>
   <duplication lines="27" tokens="71">
      <file line="36"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumGradeDto.java"/>
      <file line="77"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumSearchDto.java"/>
      <file line="44"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionElectiveModuleDto.java"/>
      <file line="86"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionHigherModuleDto.java"/>
      <file line="244"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/timetable/LessonPlanDto.java"/>
      <codefragment><![CDATA[    }

    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getNameEt() {
        return nameEt;
    }

    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }

    public String getNameEn() {
        return nameEn;
    }

    public void setNameEn(String nameEn) {
        this.nameEn = nameEn;
    }

    public String getNameGenitiveEt() {]]></codefragment>
   </duplication>
   <duplication lines="27" tokens="71">
      <file line="93"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/directive/DirectiveStudentDto.java"/>
      <file line="332"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/directive/DirectiveViewStudentDto.java"/>
      <codefragment><![CDATA[    }

    public Boolean getIsCumLaude() {
        return isCumLaude;
    }

    public void setIsCumLaude(Boolean isCumLaude) {
        this.isCumLaude = isCumLaude;
    }

    public Boolean getIsOccupationExamPassed() {
        return isOccupationExamPassed;
    }

    public void setIsOccupationExamPassed(Boolean isOccupationExamPassed) {
        this.isOccupationExamPassed = isOccupationExamPassed;
    }

    public String getCurriculumGrade() {
        return curriculumGrade;
    }

    public void setCurriculumGrade(String curriculumGrade) {
        this.curriculumGrade = curriculumGrade;
    }

    public Boolean getApplicationIsPeriod() {]]></codefragment>
   </duplication>
   <duplication lines="27" tokens="71">
      <file line="106"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/timetable/JournalDto.java"/>
      <file line="71"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/timetable/JournalSearchDto.java"/>
      <codefragment><![CDATA[    }

    public Integer getPlannedHours() {
        return plannedHours;
    }

    public void setPlannedHours(Integer plannedHours) {
        this.plannedHours = plannedHours;
    }

    public Integer getUsedHours() {
        return usedHours;
    }

    public void setUsedHours(Integer usedHours) {
        this.usedHours = usedHours;
    }

    public String getStatus() {
        return status;
    }

    public void setStatus(String status) {
        this.status = status;
    }

    public LocalDate getEndDate() {]]></codefragment>
   </duplication>
   <duplication lines="10" tokens="71">
      <file line="69"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CertificateControllerTest.java"/>
      <file line="89"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/MessageControllerTest.java"/>
      <file line="80"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SubjectStudyPeriodPlanControllerTest.java"/>
      <codefragment><![CDATA[        CertificateDto dto = responseEntity.getBody();
        Assert.assertNotNull(dto);
        Long id = dto.getId();
        Assert.assertNotNull(id);
        Long version = dto.getVersion();
        Assert.assertNotNull(version);
        Assert.assertEquals(Long.valueOf(0), version);
        
        //read
        uriBuilder = UriComponentsBuilder.fromUriString(BASE_URL).pathSegment(id.toString());]]></codefragment>
   </duplication>
   <duplication lines="25" tokens="70">
      <file line="143"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/Curriculum.java"/>
      <file line="516"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/CurriculumForm.java"/>
      <codefragment><![CDATA[    public Boolean getHigher() {
        return higher;
    }

    public void setHigher(Boolean higher) {
        this.higher = higher;
    }

    public Boolean getOccupation() {
        return occupation;
    }

    public void setOccupation(Boolean occupation) {
        this.occupation = occupation;
    }

    public Boolean getJoint() {
        return joint;
    }

    public void setJoint(Boolean joint) {
        this.joint = joint;
    }

    public String getNameEt() {]]></codefragment>
   </duplication>
   <duplication lines="25" tokens="70">
      <file line="28"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumGrade.java"/>
      <file line="46"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumGradeDto.java"/>
      <codefragment><![CDATA[	public String getNameEt() {
		return nameEt;
	}

	public void setNameEt(String nameEt) {
		this.nameEt = nameEt;
	}

	public String getNameEn() {
		return nameEn;
	}

	public void setNameEn(String nameEn) {
		this.nameEn = nameEn;
	}

	public String getNameGenitiveEt() {
		return nameGenitiveEt;
	}

	public void setNameGenitiveEt(String nameGenitiveEt) {
		this.nameGenitiveEt = nameGenitiveEt;
	}

	public Classifier getEhisGrade() {]]></codefragment>
   </duplication>
   <duplication lines="25" tokens="70">
      <file line="35"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumJointPartner.java"/>
      <file line="642"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/CurriculumForm.java"/>
      <file line="55"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumJointPartnerDto.java"/>
      <codefragment><![CDATA[	}

	public String getContractEt() {
		return contractEt;
	}

	public void setContractEt(String contractEt) {
		this.contractEt = contractEt;
	}

	public String getContractEn() {
		return contractEn;
	}

	public void setContractEn(String contractEn) {
		this.contractEn = contractEn;
	}

	public String getSupervisor() {
		return supervisor;
	}

	public void setSupervisor(String supervisor) {
		this.supervisor = supervisor;
	}]]></codefragment>
   </duplication>
   <duplication lines="25" tokens="70">
      <file line="78"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumSpeciality.java"/>
      <file line="85"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumSearchDto.java"/>
      <file line="68"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumSpecialityDto.java"/>
      <file line="117"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionHigherModuleSubjectDto.java"/>
      <file line="42"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/SubjectSearchDto.java"/>
      <codefragment><![CDATA[    }

    public String getNameEt() {
		return nameEt;
	}

	public void setNameEt(String nameEt) {
		this.nameEt = nameEt;
	}

	public String getNameEn() {
		return nameEn;
	}

	public void setNameEn(String nameEn) {
		this.nameEn = nameEn;
	}

	public BigDecimal getCredits() {
		return credits;
	}

	public void setCredits(BigDecimal credits) {
		this.credits = credits;
	}]]></codefragment>
   </duplication>
   <duplication lines="25" tokens="70">
      <file line="32"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/sais/SaisClassifier.java"/>
      <file line="33"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/sais/SaisClassifierDto.java"/>
      <file line="35"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/sais/SaisClassifierSearchDto.java"/>
      <codefragment><![CDATA[    }

    public String getValue() {
        return value;
    }

    public void setValue(String value) {
        this.value = value;
    }

    public String getNameEt() {
        return nameEt;
    }

    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }

    public String getNameEn() {
        return nameEn;
    }

    public void setNameEn(String nameEn) {
        this.nameEn = nameEn;
    }]]></codefragment>
   </duplication>
   <duplication lines="25" tokens="70">
      <file line="26"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/school/SchoolDepartment.java"/>
      <file line="27"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/SchoolDepartmentForm.java"/>
      <codefragment><![CDATA[    public String getNameEt() {
        return nameEt;
    }

    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }

    public String getNameEn() {
        return nameEn;
    }

    public void setNameEn(String nameEn) {
        this.nameEn = nameEn;
    }

    public String getCode() {
        return code;
    }

    public void setCode(String code) {
        this.code = code;
    }

    public School getSchool() {]]></codefragment>
   </duplication>
   <duplication lines="19" tokens="70">
      <file line="20"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/school/StudyYearScheduleLegend.java"/>
      <file line="84"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/SubjectForm.java"/>
      <file line="36"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/SubjectSearchDto.java"/>
      <codefragment><![CDATA[    public String getCode() {
        return code;
    }
    public void setCode(String code) {
        this.code = code;
    }
    public String getNameEt() {
        return nameEt;
    }
    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }
    public String getNameEn() {
        return nameEn;
    }
    public void setNameEn(String nameEn) {
        this.nameEn = nameEn;
    }
    public String getColor() {]]></codefragment>
   </duplication>
   <duplication lines="9" tokens="70">
      <file line="13"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/student/StudentRepresentative.java"/>
      <file line="13"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/student/StudentRepresentativeApplication.java"/>
      <codefragment><![CDATA[public class StudentRepresentative extends BaseEntityWithId {

    @ManyToOne(optional = false, fetch = FetchType.LAZY)
    @JoinColumn(nullable = false, updatable = false)
    private Student student;
    @ManyToOne(optional = false, fetch = FetchType.LAZY)
    @JoinColumn(nullable = false, updatable = false)
    private Person person;
    @ManyToOne(optional = false, fetch = FetchType.LAZY)]]></codefragment>
   </duplication>
   <duplication lines="25" tokens="70">
      <file line="25"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/student/StudentRepresentative.java"/>
      <file line="28"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/student/StudentRepresentativeApplication.java"/>
      <codefragment><![CDATA[    public Student getStudent() {
        return student;
    }

    public void setStudent(Student student) {
        this.student = student;
    }

    public Person getPerson() {
        return person;
    }

    public void setPerson(Person person) {
        this.person = person;
    }

    public Classifier getRelation() {
        return relation;
    }

    public void setRelation(Classifier relation) {
        this.relation = relation;
    }

    public Boolean getIsStudentVisible() {]]></codefragment>
   </duplication>
   <duplication lines="24" tokens="70">
      <file line="29"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/teacher/TeacherOccupation.java"/>
      <file line="16"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/TeacherOccupationForm.java"/>
      <file line="9"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/TeacherOccupationSearchCommand.java"/>
      <codefragment><![CDATA[    public String getOccupationEt() {
        return occupationEt;
    }

    public void setOccupationEt(String occupationEt) {
        this.occupationEt = occupationEt;
    }

    public String getOccupationEn() {
        return occupationEn;
    }

    public void setOccupationEn(String occupationEn) {
        this.occupationEn = occupationEn;
    }

    public Boolean getIsValid() {
        return isValid;
    }

    public void setIsValid(Boolean isValid) {
        this.isValid = isValid;
    }
}]]></codefragment>
   </duplication>
   <duplication lines="19" tokens="70">
      <file line="77"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/timetable/JournalEntry.java"/>
      <file line="65"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/timetable/JournalEntryForm.java"/>
      <file line="91"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/timetable/JournalEntryDto.java"/>
      <file line="36"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/timetable/JournalEntryTableDto.java"/>
      <codefragment><![CDATA[    }
    public String getContent() {
        return content;
    }
    public void setContent(String content) {
        this.content = content;
    }
    public String getHomework() {
        return homework;
    }
    public void setHomework(String homework) {
        this.homework = homework;
    }
    public LocalDate getHomeworkDuedate() {
        return homeworkDuedate;
    }
    public void setHomeworkDuedate(LocalDate homeworkDuedate) {
        this.homeworkDuedate = homeworkDuedate;
    }]]></codefragment>
   </duplication>
   <duplication lines="4" tokens="70">
      <file line="268"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/ApplicationService.java"/>
      <file line="69"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/util/ApplicationUtil.java"/>
      <file line="83"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/util/ApplicationUtil.java"/>
      <codefragment><![CDATA[      List<Application> validAcademicLeaves = applicationRepository.findAll((root, query, cb) -> {
          List<Predicate> filters = new ArrayList<>();
          filters.add(cb.equal(root.get("student").get("id"), studentId));
          filters.add(cb.equal(root.get("type").get("code"), ApplicationType.AVALDUS_LIIK_AKAD.name()));]]></codefragment>
   </duplication>
   <duplication lines="4" tokens="70">
      <file line="194"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/CurriculumService.java"/>
      <file line="200"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/CurriculumService.java"/>
      <codefragment><![CDATA[            if(!CollectionUtils.isEmpty(criteria.getEkrLevel())) {
                Subquery<String> targetQuery = query.subquery(String.class);
                Root<ClassifierConnect> targetRoot = targetQuery.from(ClassifierConnect.class);
                targetQuery = targetQuery.select(targetRoot.get("classifier").get("code")).where(targetRoot.get("connectClassifier").get("code").in(criteria.getEkrLevel()));]]></codefragment>
   </duplication>
   <duplication lines="25" tokens="70">
      <file line="159"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/directive/DirectiveForm.java"/>
      <file line="35"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/PersonForm.java"/>
      <file line="93"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/teacher/TeacherForm.java"/>
      <codefragment><![CDATA[        public String getIdcode() {
            return idcode;
        }

        public void setIdcode(String idcode) {
            this.idcode = idcode;
        }

        public String getFirstname() {
            return firstname;
        }

        public void setFirstname(String firstname) {
            this.firstname = firstname;
        }

        public String getLastname() {
            return lastname;
        }

        public void setLastname(String lastname) {
            this.lastname = lastname;
        }

        public LocalDate getStartDate() {]]></codefragment>
   </duplication>
   <duplication lines="25" tokens="70">
      <file line="21"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/directive/DirectiveStudentSearchCommand.java"/>
      <file line="87"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/sais/SaisApplicationCsvRow.java"/>
      <file line="65"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/student/StudentRepresentativeForm.java"/>
      <file line="23"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/PersonDto.java"/>
      <file line="241"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/student/StudentViewDto.java"/>
      <codefragment><![CDATA[    public String getFirstname() {
        return firstname;
    }

    public void setFirstname(String firstname) {
        this.firstname = firstname;
    }

    public String getLastname() {
        return lastname;
    }

    public void setLastname(String lastname) {
        this.lastname = lastname;
    }

    public String getIdcode() {
        return idcode;
    }

    public void setIdcode(String idcode) {
        this.idcode = idcode;
    }

    public Boolean getApplication() {]]></codefragment>
   </duplication>
   <duplication lines="19" tokens="70">
      <file line="25"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/MessageTemplateSearchCommand.java"/>
      <file line="59"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/StateCurriculumSearchCommand.java"/>
      <codefragment><![CDATA[    }
    public LocalDate getValidFrom() {
        return validFrom;
    }
    public void setValidFrom(LocalDate validFrom) {
        this.validFrom = validFrom;
    }
    public LocalDate getValidThru() {
        return validThru;
    }
    public void setValidThru(LocalDate validThru) {
        this.validThru = validThru;
    }
    public Boolean getValid() {
        return valid;
    }
    public void setValid(Boolean valid) {
        this.valid = valid;
    }]]></codefragment>
   </duplication>
   <duplication lines="20" tokens="70">
      <file line="27"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/SubjectStudyPeriodPlanUniqueCommand.java"/>
      <file line="58"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/SubjectStudyPeriodPlanDto.java"/>
      <codefragment><![CDATA[    }

    public Long getId() {
        return id;
    }
    public void setId(Long id) {
        this.id = id;
    }
    public Long getStudyPeriod() {
        return studyPeriod;
    }
    public void setStudyPeriod(Long studyPeriod) {
        this.studyPeriod = studyPeriod;
    }
    public Long getSubject() {
        return subject;
    }
    public void setSubject(Long subject) {
        this.subject = subject;
    }]]></codefragment>
   </duplication>
   <duplication lines="19" tokens="70">
      <file line="27"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/timetable/JournalEntryStudentForm.java"/>
      <file line="57"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/timetable/JournalEntryStudentDto.java"/>
      <codefragment><![CDATA[    }
    public String getAbsence() {
        return absence;
    }
    public void setAbsence(String absence) {
        this.absence = absence;
    }
    public String getGrade() {
        return grade;
    }
    public void setGrade(String grade) {
        this.grade = grade;
    }
    public String getAddInfo() {
        return addInfo;
    }
    public void setAddInfo(String addInfo) {
        this.addInfo = addInfo;
    }]]></codefragment>
   </duplication>
   <duplication lines="3" tokens="70">
      <file line="17"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/ClassifierSearchDto.java"/>
      <file line="36"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/ClassifierSelection.java"/>
      <codefragment><![CDATA[        ClassifierSearchDto dto = new ClassifierSearchDto(c.getCode(), c.getNameEt(), c.getNameEn(), c.getNameRu(),
                Boolean.valueOf(c.isValid()), Boolean.valueOf(c.isHigher()), Boolean.valueOf(c.isVocational()),
                c.getMainClassCode(), c.getValue());]]></codefragment>
   </duplication>
   <duplication lines="19" tokens="70">
      <file line="86"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionDto.java"/>
      <file line="78"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionHigherModuleDto.java"/>
      <codefragment><![CDATA[    }

    public Set<Long> getSpecialitiesReferenceNumbers() {
        return specialitiesReferenceNumbers != null ? specialitiesReferenceNumbers : (specialitiesReferenceNumbers = new HashSet<>());
    }

    public void setSpecialitiesReferenceNumbers(Set<Long> specialitiesReferenceNumbers) {
        this.specialitiesReferenceNumbers = specialitiesReferenceNumbers;
    }

    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getCode() {]]></codefragment>
   </duplication>
   <duplication lines="13" tokens="70">
      <file line="81"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/ClassifierConnectControllerTest.java"/>
      <file line="109"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/ClassifierConnectControllerTest.java"/>
      <codefragment><![CDATA[                asList(parent1, parent3), Boolean.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());


        // check that only parent1 and parent3 are in list of parents

        searchResponseEntity = restTemplate.getForEntity(uri, Object.class);
        Assert.assertNotNull(searchResponseEntity);
        Assert.assertEquals(HttpStatus.OK, searchResponseEntity.getStatusCode());

        searchResponse = getResponseEntity(searchResponseEntity.getBody());
        Assert.assertEquals(2, searchResponse.size());]]></codefragment>
   </duplication>
   <duplication lines="4" tokens="70">
      <file line="297"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <file line="318"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <codefragment><![CDATA[        Set<Long> referenceNumbers = versionModule.getSubjects().stream()
                .map(s -> s.getElectiveModule()).collect(Collectors.toSet());
        Assert.assertTrue(referenceNumbers.contains(electiveModuleReferenceNumber));
        Assert.assertTrue(electiveModule.getSubjects().stream().findFirst().get().equals(Long.valueOf(33)));]]></codefragment>
   </duplication>
   <duplication lines="23" tokens="69">
      <file line="25"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/Building.java"/>
      <file line="17"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/BuildingForm.java"/>
      <codefragment><![CDATA[    public String getCode() {
        return code;
    }

    public void setCode(String code) {
        this.code = code;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getAddress() {
        return address;
    }

    public void setAddress(String address) {
        this.address = address;
    }]]></codefragment>
   </duplication>
   <duplication lines="23" tokens="69">
      <file line="31"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/student/StudentAbsence.java"/>
      <file line="22"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/student/StudentAbsenceForm.java"/>
      <codefragment><![CDATA[    public LocalDate getValidFrom() {
        return validFrom;
    }

    public void setValidFrom(LocalDate validFrom) {
        this.validFrom = validFrom;
    }

    public LocalDate getValidThru() {
        return validThru;
    }

    public void setValidThru(LocalDate validThru) {
        this.validThru = validThru;
    }

    public String getCause() {
        return cause;
    }

    public void setCause(String cause) {
        this.cause = cause;
    }]]></codefragment>
   </duplication>
   <duplication lines="9" tokens="69">
      <file line="270"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/CurriculumService.java"/>
      <file line="131"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/StateCurriculumService.java"/>
      <codefragment><![CDATA[            final Set<String> ALLOWED_PROPERTIES = new HashSet<>(Arrays.asList("code", "merCode"));
            if(ALLOWED_PROPERTIES.contains(command.getParamName())) {
                filters.add(cb.equal(root.get(command.getParamName()), command.getParamValue()));
            }
            return cb.and(filters.toArray(new Predicate[filters.size()]));
        }) == 0;
    }

    public boolean isVersionUnique(Long schoolId, UniqueCommand command) {]]></codefragment>
   </duplication>
   <duplication lines="9" tokens="69">
      <file line="122"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/LessonTimeControllerTests.java"/>
      <file line="204"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/LessonTimeControllerTests.java"/>
      <codefragment><![CDATA[        LessonTimeDto savedLessonTime = responseEntity.getBody().getLessonTimeBuildingGroups().stream().findFirst().get().getLessonTimes().stream().findFirst().get();

        //read
        uriBuilder = UriComponentsBuilder.fromUriString(ENDPOINT).pathSegment(savedLessonTime.getId().toString());
        uri = uriBuilder.build().toUriString();
        responseEntity = restTemplate.getForEntity(uri, LessonTimeGroupsDto.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
        Assert.assertEquals(1, responseEntity.getBody().getLessonTimeBuildingGroups().size());]]></codefragment>
   </duplication>
   <duplication lines="7" tokens="69">
      <file line="188"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/StateCurriculumControllerTest.java"/>
      <file line="212"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/StateCurriculumControllerTest.java"/>
      <codefragment><![CDATA[        module.setCredits(Double.valueOf(2));
        
        responseEntity = restTemplate.exchange("/stateCurriculum/{id}", HttpMethod.PUT, new HttpEntity<>(stateCurriculumDto), StateCurriculumDto.class, stateCurriculumDto.getId());
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
        Assert.assertNotNull(responseEntity.getBody());
        stateCurriculumDto = responseEntity.getBody();]]></codefragment>
   </duplication>
   <duplication lines="4" tokens="68">
      <file line="119"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/LessonTimeControllerTests.java"/>
      <file line="180"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/LessonTimeControllerTests.java"/>
      <codefragment><![CDATA[        responseEntity = restTemplate.postForEntity(uri, form, LessonTimeGroupsDto.class);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());

        LessonTimeDto savedLessonTime = responseEntity.getBody().getLessonTimeBuildingGroups().stream().findFirst().get().getLessonTimes().stream().findFirst().get();]]></codefragment>
   </duplication>
   <duplication lines="9" tokens="68">
      <file line="149"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/StateCurriculumControllerTest.java"/>
      <file line="212"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/StateCurriculumControllerTest.java"/>
      <file line="228"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/StateCurriculumControllerTest.java"/>
      <codefragment><![CDATA[        module.getModuleOccupations().remove("KUTSE_10512175");
        
        
        
        responseEntity = restTemplate.exchange("/stateCurriculum/{id}", HttpMethod.PUT, new HttpEntity<>(stateCurriculumDto), StateCurriculumDto.class, stateCurriculumDto.getId());
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
        Assert.assertNotNull(responseEntity.getBody());
        stateCurriculumDto = responseEntity.getBody();]]></codefragment>
   </duplication>
   <duplication lines="4" tokens="67">
      <file line="73"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodPlanService.java"/>
      <file line="95"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodPlanService.java"/>
      <file line="404"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <file line="538"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <codefragment><![CDATA[        return subjectRepository.findAll((root, query, cb) -> {
            List<Predicate> filters = new ArrayList<>();
            filters.add(cb.equal(root.get("school").get("id"), schoolId));
            filters.add(cb.equal(root.get("status").get("code"), SubjectStatus.AINESTAATUS_K.name()));]]></codefragment>
   </duplication>
   <duplication lines="7" tokens="67">
      <file line="289"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <file line="311"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <file line="328"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <codefragment><![CDATA[        CurriculumDto curriculumDto = responseEntity.getBody();
        Assert.assertNotNull(curriculumDto);


        versionModule = curriculumDto.getVersions().stream().findFirst().get()
                .getModules().stream().findFirst().get();
        electiveModule = versionModule.getElectiveModules().stream().findFirst().get();]]></codefragment>
   </duplication>
   <duplication lines="7" tokens="67">
      <file line="172"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SchoolControllerTests.java"/>
      <file line="183"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SchoolControllerTests.java"/>
      <codefragment><![CDATA[        request.setLegends(responseDtos);
        responseEntity = restTemplate.exchange(URL, HttpMethod.PUT,
                new HttpEntity<>(request), Object.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
        responseDtos = getUpdateLegendsResult(responseEntity.getBody());
        Assert.assertEquals(1, responseDtos.size());]]></codefragment>
   </duplication>
   <duplication lines="4" tokens="66">
      <file line="112"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/AutocompleteService.java"/>
      <file line="131"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/AutocompleteService.java"/>
      <codefragment><![CDATA[        List<ClassifierSelection> result = StreamUtil.toMappedList(r -> new ClassifierSelection(resultAsString(r, 0),
                    resultAsString(r, 1), resultAsString(r, 2), resultAsString(r, 3),
                    resultAsBoolean(r, 4), resultAsBoolean(r, 5), resultAsBoolean(r, 6),
                    resultAsString(r, 7), resultAsString(r, 8)), data);]]></codefragment>
   </duplication>
   <duplication lines="4" tokens="66">
      <file line="52"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/StudyYearScheduleService.java"/>
      <file line="75"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/StudyYearScheduleService.java"/>
      <codefragment><![CDATA[        return studyYearScheduleRepository.findAll((root, query, cb) -> {
            List<Predicate> filters = new ArrayList<>();
            filters.add(cb.equal(root.get("school").get("id"), schoolId));
            filters.add(root.get("studyPeriod").get("id").in(container.getStudyPeriods()));]]></codefragment>
   </duplication>
   <duplication lines="7" tokens="66">
      <file line="165"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/directive/DirectiveStudentDto.java"/>
      <file line="197"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/directive/DirectiveStudentDto.java"/>
      <codefragment><![CDATA[            dto.setReason(EntityUtil.getNullableCode(application.getReason()));
            dto.setIsPeriod(application.getIsPeriod());
            dto.setStartDate(application.getStartDate());
            dto.setEndDate(application.getEndDate());
            dto.setStudyPeriodStart(EntityUtil.getNullableId(application.getStudyPeriodStart()));
            dto.setStudyPeriodEnd(EntityUtil.getNullableId(application.getStudyPeriodEnd()));
            dto.setApplicationIsPeriod(application.getIsPeriod());]]></codefragment>
   </duplication>
   <duplication lines="14" tokens="66">
      <file line="71"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/service/ApplicationServiceTests.java"/>
      <file line="92"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/service/ApplicationServiceTests.java"/>
      <codefragment><![CDATA[        applicationForm.setEndDate(LocalDate.now().plusYears(1));

        Set<ConstraintViolation<ApplicationForm>> errors = validator.validate(applicationForm);
        Assert.assertTrue(CollectionUtils.isEmpty(errors));

        ValidationFailedException result = null;
        try {
            service.save(new Application(), applicationForm);
        } catch (ValidationFailedException e) {
            result = e;
        }

        Assert.assertNotNull(result);
        Assert.assertEquals("application.messages.studentIsNotHigher", result.getErrorInfo().getErrors().get(0).getCode());]]></codefragment>
   </duplication>
   <duplication lines="8" tokens="66">
      <file line="422"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <file line="474"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <codefragment><![CDATA[        curriculumModules.remove(curriculumModules.iterator().next());

        responseEntity = restTemplate.exchange("/curriculum/{id}", HttpMethod.PUT, new HttpEntity<>(updatedCurriculum), CurriculumDto.class, testCurriculum.getId());
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
        updatedCurriculum = responseEntity.getBody();
        Assert.assertNotNull(updatedCurriculum);

        Assert.assertTrue(updatedCurriculum.getSchoolDepartments().size() == 1);]]></codefragment>
   </duplication>
   <duplication lines="2" tokens="65">
      <file line="200"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/JournalService.java"/>
      <file line="134"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/StudentRepresentativeService.java"/>
      <file line="242"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/TeacherService.java"/>
      <codefragment><![CDATA[                propertyContains(() -> root.get("person").get("lastname"), cb, command.getStudentName(), name::add);
                name.add(cb.like(cb.concat(cb.upper(root.get("person").get("firstname")), cb.concat(" ", cb.upper(root.get("person").get("lastname")))), JpaQueryUtil.toContains(command.getStudentName())));]]></codefragment>
   </duplication>
   <duplication lines="5" tokens="65">
      <file line="109"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/AutocompleteResult.java"/>
      <file line="113"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/AutocompleteResult.java"/>
      <codefragment><![CDATA[    public static AutocompleteResult of(Subject subject) {
        return new AutocompleteResult(subject.getId(), SubjectUtil.subjectName(subject.getCode(), subject.getNameEt(), subject.getCredits()), SubjectUtil.subjectName(subject.getCode(), subject.getNameEn(), subject.getCredits()));
    }

    public static AutocompleteResult of(SubjectSearchDto subject) {]]></codefragment>
   </duplication>
   <duplication lines="6" tokens="65">
      <file line="69"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/StudentRepresentativeControllerTests.java"/>
      <file line="78"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/StudentRepresentativeControllerTests.java"/>
      <codefragment><![CDATA[        UriComponentsBuilder uriBuilder = UriComponentsBuilder.fromUriString("/studentrepresentatives/applications/0/decline");
        StudentRepresentativeApplicationDeclineForm form = new StudentRepresentativeApplicationDeclineForm();
        ResponseEntity<Object> responseEntity = restTemplate.exchange(uriBuilder.build().toString(), HttpMethod.PUT, new HttpEntity<>(form), Object.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.NOT_FOUND, responseEntity.getStatusCode());
    }]]></codefragment>
   </duplication>
   <duplication lines="19" tokens="65">
      <file line="36"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SubjectStudyPeriodControllerTest.java"/>
      <file line="31"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SubjectStudyPeriodPlanControllerTest.java"/>
      <codefragment><![CDATA[    @Autowired
    private TestRestTemplate restTemplate;
    @Autowired
    private TestConfigurationService testConfigurationService;

    @Before
    public void setUp() {
        testConfigurationService.userToRole(Role.ROLL_A, restTemplate);
    }

    @After
    public void cleanUp() {
        testConfigurationService.setSessionCookie(null);
    }

    @Test
    public void search() {
        UriComponentsBuilder uriBuilder = UriComponentsBuilder.fromUriString(BASE_URL);
        uriBuilder.queryParam("subjectNameAndCode", "3211212");]]></codefragment>
   </duplication>
   <duplication lines="7" tokens="64">
      <file line="407"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <file line="422"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <file line="474"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <codefragment><![CDATA[            .setCurriculumStudyForm(null);

        responseEntity = restTemplate.exchange("/curriculum/{id}", HttpMethod.PUT, new HttpEntity<>(updatedCurriculum), CurriculumDto.class, testCurriculum.getId());
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
        updatedCurriculum = responseEntity.getBody();
        Assert.assertNotNull(updatedCurriculum);
        Assert.assertTrue(updatedCurriculum.getGrades().isEmpty());]]></codefragment>
   </duplication>
   <duplication lines="12" tokens="63">
      <file line="113"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/MessageService.java"/>
      <file line="171"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/MessageService.java"/>
      <codefragment><![CDATA[    public Page<MessageSearchDto> show(HoisUserDetails user, Pageable pageable) {
        JpaQueryUtil.NativeQueryBuilder qb = new JpaQueryUtil.NativeQueryBuilder(RECEIVED_MESSAGES_FROM).sort(pageable);
        qb.requiredCriteria("mr.person_id = :personId", "personId", user.getPersonId());
        /**
         * Usually users can only view messages sent by others from the same school.
         * However, they also need to have possibility to see messages from users with no school,
         * such as main administrator.
         */
        if(!user.isMainAdmin()) {
            qb.requiredCriteria("(m.school_id is null OR m.school_id = :schoolId)", "schoolId", user.getSchoolId());
        }
        qb.filter("mr.read is null");]]></codefragment>
   </duplication>
   <duplication lines="4" tokens="63">
      <file line="67"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/ClassifierConnectControllerTest.java"/>
      <file line="95"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/ClassifierConnectControllerTest.java"/>
      <codefragment><![CDATA[         ClassifierConnectSelection cc1 = searchResponse.get(0);
         Assert.assertEquals(child.getCode(), cc1.getClassifier().getCode());
         Assert.assertTrue(cc1.getConnectClassifier().getCode().equals(parent1.getCode()) ||
                 cc1.getConnectClassifier().getCode().equals(parent2.getCode()));]]></codefragment>
   </duplication>
   <duplication lines="4" tokens="63">
      <file line="72"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/ClassifierConnectControllerTest.java"/>
      <file line="100"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/ClassifierConnectControllerTest.java"/>
      <codefragment><![CDATA[         ClassifierConnectSelection cc2 = searchResponse.get(1);
         Assert.assertEquals(child.getCode(), cc2.getClassifier().getCode());
         Assert.assertTrue(cc2.getConnectClassifier().getCode().equals(parent1.getCode()) ||
                 cc2.getConnectClassifier().getCode().equals(parent2.getCode()) &&]]></codefragment>
   </duplication>
   <duplication lines="8" tokens="63">
      <file line="158"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="170"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="182"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="194"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="206"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="218"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="230"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="242"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="254"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <codefragment><![CDATA[        SaisApplicationImportCsvCommand cmd = csvCmdForRows(admissionCode + ";;Mari;Maasikas;47810010009;EST;EST;RE;1.01.2012;T;first;TAIS;P;E;411;1.12.2011;1.02.2012");

        ResponseEntity<SaisApplicationImportResultDto> responseEntity =
                restTemplate.postForEntity("/saisApplications/importCsv", cmd, SaisApplicationImportResultDto.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
        Assert.assertEquals(1, responseEntity.getBody().getFailed().size());
        Assert.assertEquals("Puudub avalduse number", responseEntity.getBody().getFailed().stream().findFirst().get().getMessage());]]></codefragment>
   </duplication>
   <duplication lines="7" tokens="62">
      <file line="42"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/LessonPlanControllerTests.java"/>
      <file line="60"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/LessonPlanControllerTests.java"/>
      <codefragment><![CDATA[        ResponseEntity<Object> responseEntity = restTemplate.getForEntity(url, Object.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.PRECONDITION_FAILED, responseEntity.getStatusCode());

        UriComponentsBuilder uriBuilder = UriComponentsBuilder.fromUriString(url);
        uriBuilder.queryParam("studyYear", Long.valueOf(1));
        uriBuilder.queryParam("schoolDepartment", Long.valueOf(1));]]></codefragment>
   </duplication>
   <duplication lines="10" tokens="62">
      <file line="60"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SchoolDepartmentControllerTests.java"/>
      <file line="51"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/TeacherOccupationControllerTests.java"/>
      <codefragment><![CDATA[        uriBuilder.queryParam("valid", "true");
        uri = uriBuilder.build().toUriString();
        responseEntity = restTemplate.getForEntity(uri, Object.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
    }

    @Test
    public void get() {
        UriComponentsBuilder uriBuilder = UriComponentsBuilder.fromUriString("/school/departments");]]></codefragment>
   </duplication>
   <duplication lines="16" tokens="61">
      <file line="51"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/statecurriculum/StateCurriculumModuleOccupation.java"/>
      <file line="48"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/statecurriculum/StateCurriculumOccupation.java"/>
      <codefragment><![CDATA[		StateCurriculumModuleOccupation other = (StateCurriculumModuleOccupation) obj;
		if (occupation == null) {
			if (other.occupation != null)
				return false;
		} else if (!occupation.equals(other.occupation))
			return false;
		return true;
	}

	public Classifier getOccupation() {
		return occupation;
	}

	public void setOccupation(Classifier occupation) {
		this.occupation = occupation;
	}]]></codefragment>
   </duplication>
   <duplication lines="7" tokens="61">
      <file line="153"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/ehis/EhisStudentService.java"/>
      <file line="232"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/ehis/EhisStudentService.java"/>
      <codefragment><![CDATA[            khlOppevormiMuutus.setMuutusKp(DatatypeFactory.newInstance().newXMLGregorianCalendar(directive.getConfirmDate().toString()));
        } catch (DatatypeConfigurationException e) {
            if (log.isErrorEnabled()) {
                log.error(String.format("Converting date failed on directive %s :", directive.getDirectiveNr()), e);
            }
            throw e;
        }]]></codefragment>
   </duplication>
   <duplication lines="4" tokens="60">
      <file line="43"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/application/Application.java"/>
      <file line="52"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/application/Application.java"/>
      <codefragment><![CDATA[    @ManyToOne(optional = false, fetch = FetchType.LAZY)
    @JoinColumn(nullable = false, updatable = false)
    @NotNull(groups = {Akad.class, Akadk.class, Okava.class, Ovorm.class, Finm.class, Valis.class, Eksmat.class})
    private Student student;]]></codefragment>
   </duplication>
   <duplication lines="16" tokens="60">
      <file line="30"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumSpeciality.java"/>
      <file line="20"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumSpecialityDto.java"/>
      <codefragment><![CDATA[	@NotBlank
	@Size(max=100)
	private String nameEt;
	@NotBlank
	@Size(max=100)
	private String nameEn;
	@NotNull
	private BigDecimal credits;
	@Size(max=1000)
	private String description;
	@Size(max=255)
	private String occupationEt;
	@Size(max=255)
	private String occupationEn;

	@ManyToOne(fetch = FetchType.LAZY)]]></codefragment>
   </duplication>
   <duplication lines="11" tokens="60">
      <file line="131"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/ehis/EhisStudentService.java"/>
      <file line="201"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/ehis/EhisStudentService.java"/>
      <codefragment><![CDATA[    private void changeStudyLoad(DirectiveStudent directiveStudent, Directive directive) throws DatatypeConfigurationException {
        Student student = directiveStudent.getStudent();
        XRoadHeaderV4 xRoadHeaderV4 = getXroadHeader();
        KhlOppeasutusList khlOppeasutusList = getKhlOppeasutusList(student);

        KhlOppevormiMuutus khlOppevormiMuutus = new KhlOppevormiMuutus();
        setMuutusKp(directive, khlOppevormiMuutus);

        // todo is this correct
        khlOppevormiMuutus.setKlOppevorm(student.getStudyForm().getEhisValue());
        khlOppevormiMuutus.setKlOppekoormus(directiveStudent.getStudyLoad().getEhisValue());]]></codefragment>
   </duplication>
   <duplication lines="7" tokens="60">
      <file line="30"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SchoolDepartmentControllerTests.java"/>
      <file line="68"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SchoolDepartmentControllerTests.java"/>
      <codefragment><![CDATA[    public void search() {
        // no parameters
        UriComponentsBuilder uriBuilder = UriComponentsBuilder.fromUriString("/school/departments");
        String uri = uriBuilder.build().toUriString();
        ResponseEntity<Object> responseEntity = restTemplate.getForEntity(uri, Object.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());]]></codefragment>
   </duplication>
   <duplication lines="8" tokens="59">
      <file line="12"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/timetable/JournalCapacity.java"/>
      <file line="12"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/timetable/JournalCapacityType.java"/>
      <file line="14"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/timetable/JournalOccupationModuleTheme.java"/>
      <file line="17"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/timetable/JournalStudent.java"/>
      <file line="12"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/timetable/JournalTeacher.java"/>
      <codefragment><![CDATA[public class JournalCapacity extends BaseEntityWithId {

    @ManyToOne(optional = false, fetch = FetchType.LAZY)
    @JoinColumn(nullable = false, updatable = false, insertable = false)
    private Journal journal;
    @ManyToOne(optional = false, fetch = FetchType.LAZY)
    @JoinColumn(nullable = false, updatable = false)
    private JournalCapacityType journalCapacityType;]]></codefragment>
   </duplication>
   <duplication lines="4" tokens="59">
      <file line="281"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/LessonTimeService.java"/>
      <file line="73"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodPlanService.java"/>
      <file line="95"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodPlanService.java"/>
      <file line="404"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <file line="538"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <codefragment><![CDATA[        return lessonTimeRepository.findAll((root, query, cb) -> {
            List<Predicate> filters = new ArrayList<>();
            filters.add(cb.equal(root.get("school").get("id"), schoolId));
            filters.add(cb.equal(root.get("lessonTimeBuildingGroup").get("validFrom"), validFrom));]]></codefragment>
   </duplication>
   <duplication lines="13" tokens="59">
      <file line="46"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/SubjectStudyPeriodPlanUniqueCommand.java"/>
      <file line="34"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/SubjectStudyPeriodPlanDto.java"/>
      <codefragment><![CDATA[    }
    public Set<String> getStudyForms() {
        return studyForms;
    }
    public void setStudyForms(Set<String> studyForms) {
        this.studyForms = studyForms;
    }
    public Set<Long> getCurriculums() {
        return curriculums;
    }
    public void setCurriculums(Set<Long> curriculums) {
        this.curriculums = curriculums;
    }]]></codefragment>
   </duplication>
   <duplication lines="9" tokens="59">
      <file line="160"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <file line="571"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <codefragment><![CDATA[        setCollections(curriculumForm);

        ResponseEntity<CurriculumDto> responseEntity = this.restTemplate.postForEntity("/curriculum", curriculumForm,
                CurriculumDto.class);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
        Assert.assertNotNull(responseEntity);
        testCurriculum = curriculumRepository.getOne(responseEntity.getBody().getId());

        Assert.assertNotNull(testCurriculum);]]></codefragment>
   </duplication>
   <duplication lines="8" tokens="59">
      <file line="237"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <file line="279"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <codefragment><![CDATA[        version1.getModules().add(module);
        Set<CurriculumVersionDto> versions = new HashSet<>();
        versions.add(version1);
        curriculumForm.setVersions(versions);

        ResponseEntity<CurriculumDto> responseEntity = this.restTemplate.postForEntity("/curriculum", curriculumForm,
                CurriculumDto.class);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());]]></codefragment>
   </duplication>
   <duplication lines="8" tokens="59">
      <file line="736"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <file line="51"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/StateCurriculumControllerTest.java"/>
      <codefragment><![CDATA[        uriBuilder.queryParam("paramValue", code);

        String uri = uriBuilder.build().toUriString();
        ResponseEntity<Boolean> responseEntity = restTemplate.getForEntity(uri, Boolean.class);

        Assert.assertNotNull(responseEntity.getBody());
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
        return responseEntity.getBody().booleanValue();]]></codefragment>
   </duplication>
   <duplication lines="7" tokens="59">
      <file line="158"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="170"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="182"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="194"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="206"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="218"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="230"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="242"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="254"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="268"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <codefragment><![CDATA[        SaisApplicationImportCsvCommand cmd = csvCmdForRows(admissionCode + ";;Mari;Maasikas;47810010009;EST;EST;RE;1.01.2012;T;first;TAIS;P;E;411;1.12.2011;1.02.2012");

        ResponseEntity<SaisApplicationImportResultDto> responseEntity =
                restTemplate.postForEntity("/saisApplications/importCsv", cmd, SaisApplicationImportResultDto.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
        Assert.assertEquals(1, responseEntity.getBody().getFailed().size());]]></codefragment>
   </duplication>
   <duplication lines="8" tokens="58">
      <file line="18"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumDepartment.java"/>
      <file line="19"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumStudyLanguage.java"/>
      <codefragment><![CDATA[    @JsonBackReference
    @ManyToOne(optional = false, fetch = FetchType.LAZY)
    @JoinColumn(nullable = false, insertable = false, updatable = false)
    private Curriculum curriculum;

    @ManyToOne(optional = false, fetch = FetchType.LAZY)
    @JoinColumn(nullable = false, updatable = false)
    private SchoolDepartment schoolDepartment;]]></codefragment>
   </duplication>
   <duplication lines="18" tokens="58">
      <file line="30"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumVersionHigherModule.java"/>
      <file line="24"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionHigherModuleDto.java"/>
      <codefragment><![CDATA[    @NotBlank
    @Size(max = 255)
    private String nameEt;

    @NotBlank
    @Size(max = 255)
    private String nameEn;

    private String objectivesEt;
    private String objectivesEn;
    private String outcomesEt;
    private String outcomesEn;
    @Size(max = 255)
    private String typeNameEt;
    @Size(max = 255)
    private String typeNameEn;

    @NotNull]]></codefragment>
   </duplication>
   <duplication lines="5" tokens="58">
      <file line="259"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/CurriculumService.java"/>
      <file line="126"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/StateCurriculumService.java"/>
      <codefragment><![CDATA[        return curriculumRepository.count((root, query, cb) -> {
            List<Predicate> filters = new ArrayList<>();
            if(command.getId() != null) {
                filters.add(cb.notEqual(root.get("id"), command.getId()));
            }]]></codefragment>
   </duplication>
   <duplication lines="11" tokens="58">
      <file line="141"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/ehis/EhisStudentService.java"/>
      <file line="211"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/ehis/EhisStudentService.java"/>
      <codefragment><![CDATA[        khlOppevormiMuutus.setKlOppekoormus(directiveStudent.getStudyLoad().getEhisValue());

        KhlKorgharidusMuuda khlKorgharidusMuuda = new KhlKorgharidusMuuda();
        khlKorgharidusMuuda.setOppevormiMuutus(khlOppevormiMuutus);

        khlOppeasutusList.getOppeasutus().get(0).getOppur().get(0).getMuutmine().setKorgharidus(khlKorgharidusMuuda);

        makeRequest(directive, xRoadHeaderV4, khlOppeasutusList);
    }

    private static void setMuutusKp(Directive directive, KhlOppevormiMuutus khlOppevormiMuutus) throws DatatypeConfigurationException {]]></codefragment>
   </duplication>
   <duplication lines="6" tokens="58">
      <file line="407"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <file line="422"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <file line="433"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <file line="442"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <file line="455"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <file line="474"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <codefragment><![CDATA[            .setCurriculumStudyForm(null);

        responseEntity = restTemplate.exchange("/curriculum/{id}", HttpMethod.PUT, new HttpEntity<>(updatedCurriculum), CurriculumDto.class, testCurriculum.getId());
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
        updatedCurriculum = responseEntity.getBody();
        Assert.assertNotNull(updatedCurriculum);]]></codefragment>
   </duplication>
   <duplication lines="5" tokens="58">
      <file line="149"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="160"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="172"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="184"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="196"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="208"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="220"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="232"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="244"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="256"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <codefragment><![CDATA[        responseEntity = restTemplate.postForEntity("/saisApplications/importCsv", cmd, SaisApplicationImportResultDto.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
        Assert.assertEquals(1, responseEntity.getBody().getFailed().size());
        Assert.assertEquals("Avaldusega nr Nr123456789 on ssteemis juba seotud teise isikuga (47810010009).", responseEntity.getBody().getFailed().stream().findFirst().get().getMessage());]]></codefragment>
   </duplication>
   <duplication lines="9" tokens="58">
      <file line="69"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SchoolDepartmentControllerTests.java"/>
      <file line="90"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/StateCurriculumControllerTest.java"/>
      <codefragment><![CDATA[        UriComponentsBuilder uriBuilder = UriComponentsBuilder.fromUriString("/school/departments");
        String uri = uriBuilder.build().toUriString();
        ResponseEntity<Object> responseEntity = restTemplate.getForEntity(uri, Object.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
    }

    @Test
    public void crud() {]]></codefragment>
   </duplication>
   <duplication lines="8" tokens="58">
      <file line="49"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/StudentControllerTests.java"/>
      <file line="34"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/StudentRepresentativeControllerTests.java"/>
      <codefragment><![CDATA[        UriComponentsBuilder uriBuilder = UriComponentsBuilder.fromUriString("/students");
        uriBuilder.queryParam("idcode", "3211212");
        url = uriBuilder.build().toUriString();
        responseEntity = restTemplate.getForEntity(url, Object.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.PRECONDITION_FAILED, responseEntity.getStatusCode());

        uriBuilder = UriComponentsBuilder.fromUriString("/students");]]></codefragment>
   </duplication>
   <duplication lines="21" tokens="57">
      <file line="66"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/directive/Directive.java"/>
      <file line="34"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/student/StudentDirectiveDto.java"/>
      <codefragment><![CDATA[    public void setType(Classifier type) {
        this.type = type;
    }

    public String getDirectiveNr() {
        return directiveNr;
    }

    public void setDirectiveNr(String directiveNr) {
        this.directiveNr = directiveNr;
    }

    public LocalDate getConfirmDate() {
        return confirmDate;
    }

    public void setConfirmDate(LocalDate confirmDate) {
        this.confirmDate = confirmDate;
    }

    public String getAddInfo() {]]></codefragment>
   </duplication>
   <duplication lines="9" tokens="57">
      <file line="141"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/ehis/EhisStudentService.java"/>
      <file line="190"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/ehis/EhisStudentService.java"/>
      <file line="211"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/ehis/EhisStudentService.java"/>
      <codefragment><![CDATA[        khlOppevormiMuutus.setKlOppekoormus(directiveStudent.getStudyLoad().getEhisValue());

        KhlKorgharidusMuuda khlKorgharidusMuuda = new KhlKorgharidusMuuda();
        khlKorgharidusMuuda.setOppevormiMuutus(khlOppevormiMuutus);

        khlOppeasutusList.getOppeasutus().get(0).getOppur().get(0).getMuutmine().setKorgharidus(khlKorgharidusMuuda);

        makeRequest(directive, xRoadHeaderV4, khlOppeasutusList);
    }]]></codefragment>
   </duplication>
   <duplication lines="10" tokens="57">
      <file line="656"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <file line="689"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <codefragment><![CDATA[        curriculumForm.getSpecialities().add(spec1);
        
        /*
         * Curriculum must be saved before
         */
        ResponseEntity<CurriculumDto> curriculumResponse = this.restTemplate.postForEntity("/curriculum", curriculumForm,
                CurriculumDto.class);
        Assert.assertEquals(HttpStatus.OK, curriculumResponse.getStatusCode());
        Assert.assertNotNull(curriculumResponse);
        testCurriculum = curriculumRepository.getOne(curriculumResponse.getBody().getId());]]></codefragment>
   </duplication>
   <duplication lines="9" tokens="57">
      <file line="172"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/DirectiveControllerTests.java"/>
      <file line="87"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/GeneralMessageControllerTests.java"/>
      <codefragment><![CDATA[        ResponseEntity<DirectiveCoordinatorDto> responseEntity = restTemplate.postForEntity(uri, form, DirectiveCoordinatorDto.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.CREATED, responseEntity.getStatusCode());
        Assert.assertNotNull(responseEntity.getBody());
        Long id = responseEntity.getBody().getId();
        Assert.assertNotNull(id);

        // read
        uriBuilder = UriComponentsBuilder.fromUriString("/directives/coordinators").pathSegment(id.toString());]]></codefragment>
   </duplication>
   <duplication lines="9" tokens="57">
      <file line="65"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/GeneralMessageControllerTests.java"/>
      <file line="42"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/MessageTemplateControllerTest.java"/>
      <codefragment><![CDATA[        uriBuilder.queryParam("targets", "T1", "T2", "T3");
        url = uriBuilder.build().toUriString();
        responseEntity = restTemplate.getForEntity(url, Object.class);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
    }

    @Test
    public void getMissing() {
        ResponseEntity<Object> responseEntity = restTemplate.getForEntity("/generalmessages/0", Object.class);]]></codefragment>
   </duplication>
   <duplication lines="21" tokens="56">
      <file line="70"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumModule.java"/>
      <file line="75"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/StateCurriculumModuleDto.java"/>
      <codefragment><![CDATA[    public void setModule(Classifier module) {
        this.module = module;
    }

    public String getNameEt() {
        return nameEt;
    }

    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }

    public String getNameEn() {
        return nameEn;
    }

    public void setNameEn(String nameEn) {
        this.nameEn = nameEn;
    }

    public Integer getCredits() {]]></codefragment>
   </duplication>
   <duplication lines="21" tokens="56">
      <file line="94"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumModule.java"/>
      <file line="85"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/statecurriculum/StateCurriculumModule.java"/>
      <file line="102"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumModuleDto.java"/>
      <file line="99"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/StateCurriculumModuleDto.java"/>
      <codefragment><![CDATA[    public void setCredits(Integer credits) {
        this.credits = credits;
    }

    public String getObjectivesEt() {
        return objectivesEt;
    }

    public void setObjectivesEt(String objectivesEt) {
        this.objectivesEt = objectivesEt;
    }

    public String getObjectivesEn() {
        return objectivesEn;
    }

    public void setObjectivesEn(String objectivesEn) {
        this.objectivesEn = objectivesEn;
    }

    public Boolean getPractice() {]]></codefragment>
   </duplication>
   <duplication lines="21" tokens="56">
      <file line="239"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/directive/DirectiveStudent.java"/>
      <file line="299"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/directive/DirectiveForm.java"/>
      <codefragment><![CDATA[    public void setStudyPeriodEnd(StudyPeriod studyPeriodEnd) {
        this.studyPeriodEnd = studyPeriodEnd;
    }

    public LocalDate getNominalStudyEnd() {
        return nominalStudyEnd;
    }

    public void setNominalStudyEnd(LocalDate nominalStudyEnd) {
        this.nominalStudyEnd = nominalStudyEnd;
    }

    public Boolean getIsAbroad() {
        return isAbroad;
    }

    public void setIsAbroad(Boolean isAbroad) {
        this.isAbroad = isAbroad;
    }

    public Classifier getEhisSchool() {]]></codefragment>
   </duplication>
   <duplication lines="21" tokens="56">
      <file line="38"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/StudyPeriodEvent.java"/>
      <file line="29"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/StudyPeriodEventForm.java"/>
      <codefragment><![CDATA[    public void setStudyPeriod(StudyPeriod studyPeriod) {
        this.studyPeriod = studyPeriod;
    }

    public String getDescriptionEt() {
        return descriptionEt;
    }

    public void setDescriptionEt(String descriptionEt) {
        this.descriptionEt = descriptionEt;
    }

    public String getDescriptionEn() {
        return descriptionEn;
    }

    public void setDescriptionEn(String descriptionEn) {
        this.descriptionEn = descriptionEn;
    }

    public Classifier getEventType() {]]></codefragment>
   </duplication>
   <duplication lines="20" tokens="56">
      <file line="62"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/StudyPeriodEvent.java"/>
      <file line="53"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/StudyPeriodEventForm.java"/>
      <codefragment><![CDATA[    public void setEventType(Classifier eventType) {
        this.eventType = eventType;
    }

    public LocalDateTime getStart() {
        return start;
    }

    public void setStart(LocalDateTime start) {
        this.start = start;
    }

    public LocalDateTime getEnd() {
        return end;
    }

    public void setEnd(LocalDateTime end) {
        this.end = end;
    }
}]]></codefragment>
   </duplication>
   <duplication lines="20" tokens="56">
      <file line="35"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/timetable/JournalTeacher.java"/>
      <file line="122"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/timetable/LessonPlanJournalForm.java"/>
      <codefragment><![CDATA[    public void setTeacher(Teacher teacher) {
        this.teacher = teacher;
    }

    public Boolean getIsFiller() {
        return isFiller;
    }

    public void setIsFiller(Boolean isFiller) {
        this.isFiller = isFiller;
    }

    public Boolean getIsConfirmer() {
        return isConfirmer;
    }

    public void setIsConfirmer(Boolean isConfirmer) {
        this.isConfirmer = isConfirmer;
    }
}]]></codefragment>
   </duplication>
   <duplication lines="9" tokens="56">
      <file line="62"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/AutomaticMessageService.java"/>
      <file line="90"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/AutomaticMessageService.java"/>
      <codefragment><![CDATA[        Message message = sendMessageToPersons(type, school, persons, dataBean);

        if(message != null) {
            List<String> receivers = StreamUtil.toMappedList(Person::getEmail, persons);
            mailService.sendMail(message.getSender().getEmail(), receivers, message.getSubject(), message.getContent());
        }
    }

    public void sendMessageToStudent(MessageType type, Student student, Object dataBean, HoisUserDetails initiator) {]]></codefragment>
   </duplication>
   <duplication lines="3" tokens="56">
      <file line="52"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/service/ApplicationServiceTests.java"/>
      <file line="58"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/service/ApplicationServiceTests.java"/>
      <codefragment><![CDATA[        student = studentRepository.findAll((root, query, cb) -> {
            List<Predicate> filters = new ArrayList<>();
            filters.add(cb.like(root.get("curriculumVersion").get("curriculum").get("origStudyLevel").get("value"), "5%"));]]></codefragment>
   </duplication>
   <duplication lines="20" tokens="56">
      <file line="22"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/LessonPlanControllerTests.java"/>
      <file line="22"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/StudentGroupControllerTests.java"/>
      <codefragment><![CDATA[public class LessonPlanControllerTests {

    @Autowired
    private TestRestTemplate restTemplate;
    @Autowired
    private TestConfigurationService testConfigurationService;

    @Before
    public void setUp() {
        testConfigurationService.userToRole(Role.ROLL_A, restTemplate);
    }

    @After
    public void cleanUp() {
        testConfigurationService.setSessionCookie(null);
    }

    @Test
    public void search() {
        String url = "/lessonplans";]]></codefragment>
   </duplication>
   <duplication lines="10" tokens="55">
      <file line="43"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumVersionElectiveModule.java"/>
      <file line="193"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumVersionHigherModule.java"/>
      <codefragment><![CDATA[    }

    public Set<CurriculumVersionHigherModuleSubject> getSubjects() {
        return subjects != null ? subjects : (subjects = new HashSet<>());
    }

    public void setSubjects(Set<CurriculumVersionHigherModuleSubject> subjects) {
        getSubjects().clear();
        getSubjects().addAll(subjects);
    }]]></codefragment>
   </duplication>
   <duplication lines="19" tokens="55">
      <file line="34"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumVersionOccupationModuleCapacity.java"/>
      <file line="34"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumVersionOccupationModuleThemeCapacity.java"/>
      <file line="43"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionOccupationModuleCapacityDto.java"/>
      <file line="43"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionOccupationModuleThemeCapacityDto.java"/>
      <codefragment><![CDATA[    public void setCapacityType(Classifier capacityType) {
        this.capacityType = capacityType;
    }

    public Integer getHours() {
        return hours;
    }

    public void setHours(Integer hours) {
        this.hours = hours;
    }

    public Boolean getContact() {
        return contact;
    }

    public void setContact(Boolean contact) {
        this.contact = contact;
    }]]></codefragment>
   </duplication>
   <duplication lines="19" tokens="55">
      <file line="51"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/directive/DirectiveCoordinator.java"/>
      <file line="54"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/TeacherSearchDto.java"/>
      <codefragment><![CDATA[    public void setSchool(School school) {
        this.school = school;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getIdcode() {
        return idcode;
    }

    public void setIdcode(String idcode) {
        this.idcode = idcode;
    }]]></codefragment>
   </duplication>
   <duplication lines="19" tokens="55">
      <file line="204"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/student/StudentBase.java"/>
      <file line="157"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/student/StudentViewDto.java"/>
      <codefragment><![CDATA[    public void setFinSpecific(Classifier finSpecific) {
        this.finSpecific = finSpecific;
    }

    public String getStudyCompany() {
        return studyCompany;
    }

    public void setStudyCompany(String studyCompany) {
        this.studyCompany = studyCompany;
    }

    public String getBoardingSchool() {
        return boardingSchool;
    }

    public void setBoardingSchool(String boardingSchool) {
        this.boardingSchool = boardingSchool;
    }]]></codefragment>
   </duplication>
   <duplication lines="19" tokens="55">
      <file line="58"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/StudyPeriod.java"/>
      <file line="44"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/StudyPeriodForm.java"/>
      <codefragment><![CDATA[    public void setType(Classifier type) {
        this.type = type;
    }

    public LocalDate getStartDate() {
        return startDate;
    }

    public void setStartDate(LocalDate startDate) {
        this.startDate = startDate;
    }

    public LocalDate getEndDate() {
        return endDate;
    }

    public void setEndDate(LocalDate endDate) {
        this.endDate = endDate;
    }]]></codefragment>
   </duplication>
   <duplication lines="10" tokens="55">
      <file line="299"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/AutocompleteService.java"/>
      <file line="527"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <codefragment><![CDATA[        List<?> data = qb.select("t.id, p.firstname, p.lastname", em).setMaxResults(MAX_ITEM_COUNT).getResultList();
        return StreamUtil.toMappedList(r -> {
            String name = PersonUtil.fullname(resultAsString(r, 1), resultAsString(r, 2));
            return new AutocompleteResult(resultAsLong(r, 0), name, name);
        }, data);
    }
    /**
     * startDate and endDate required to get current studyPeriod in front end
     */
    public List<StudyPeriodDto> studyPeriods(Long schoolId) {]]></codefragment>
   </duplication>
   <duplication lines="6" tokens="55">
      <file line="117"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/CertificateService.java"/>
      <file line="69"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/MessageTemplateService.java"/>
      <file line="137"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectService.java"/>
      <codefragment><![CDATA[        List<Student> students = studentRepository.findAll((root, query, cb) -> {
            List<Predicate> filters = new ArrayList<>();

            if (schoolId != null) {
                filters.add(cb.equal(root.get("school").get("id"), schoolId));
            }]]></codefragment>
   </duplication>
   <duplication lines="4" tokens="55">
      <file line="383"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/DirectiveService.java"/>
      <file line="52"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/StudyYearScheduleService.java"/>
      <file line="75"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/StudyYearScheduleService.java"/>
      <codefragment><![CDATA[        List<Student> students = studentRepository.findAll((root, query, cb) -> {
            List<Predicate> filters = new ArrayList<>();
            filters.add(cb.equal(root.get("school").get("id"), schoolId));
            filters.add(root.get("id").in(studentIds));]]></codefragment>
   </duplication>
   <duplication lines="15" tokens="55">
      <file line="41"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/MessageTemplateForm.java"/>
      <file line="23"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/MessageTemplateSearchCommand.java"/>
      <codefragment><![CDATA[    public void setType(String type) {
        this.type = type;
    }
    public LocalDate getValidFrom() {
        return validFrom;
    }
    public void setValidFrom(LocalDate validFrom) {
        this.validFrom = validFrom;
    }
    public LocalDate getValidThru() {
        return validThru;
    }
    public void setValidThru(LocalDate validThru) {
        this.validThru = validThru;
    }]]></codefragment>
   </duplication>
   <duplication lines="22" tokens="55">
      <file line="33"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumDto.java"/>
      <file line="33"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/timetable/JournalEntryDto.java"/>
      <codefragment><![CDATA[        dto.setGrades(StreamUtil.toMappedSet(CurriculumGradeDto::of, curriculum.getGrades()));

        return dto;
    }

    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public LocalDateTime getInserted() {
        return inserted;
    }

    public void setInserted(LocalDateTime inserted) {
        this.inserted = inserted;
    }

    public String getInsertedBy() {]]></codefragment>
   </duplication>
   <duplication lines="4" tokens="55">
      <file line="59"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/ApplicationControllerTests.java"/>
      <file line="141"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/ApplicationControllerTests.java"/>
      <codefragment><![CDATA[        student = studentRepository.findAll((root, query, cb) -> {
            List<Predicate> filters = new ArrayList<>();
            filters.add(cb.equal(root.get("school").get("id"), SCHOOL_ID));
            filters.add(cb.equal(root.get("status").get("code"), StudentStatus.OPPURSTAATUS_O.name()));]]></codefragment>
   </duplication>
   <duplication lines="6" tokens="55">
      <file line="133"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/AutocompleteControllerTests.java"/>
      <file line="143"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/AutocompleteControllerTests.java"/>
      <codefragment><![CDATA[        responseEntity = restTemplate.getForEntity(uriBuilder.build().toUriString(), Object.class);
        Assert.assertTrue(HttpStatus.NOT_FOUND.equals(responseEntity.getStatusCode()) || HttpStatus.OK.equals(responseEntity.getStatusCode()));
    }

    @Test
    public void personAsStudent() {]]></codefragment>
   </duplication>
   <duplication lines="7" tokens="55">
      <file line="117"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CertificateControllerTest.java"/>
      <file line="130"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CertificateControllerTest.java"/>
      <file line="143"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CertificateControllerTest.java"/>
      <codefragment><![CDATA[        Assert.assertNotNull(response.getBody().getId());
        Assert.assertNotNull(response.getBody().getIdcode());
        Assert.assertNotNull(response.getBody().getFullname());

        // get person, who is not student
        uriBuilder = UriComponentsBuilder.fromUriString(BASE_URL + METHOD_URL);
        uriBuilder.queryParam("idcode", "37810012983");]]></codefragment>
   </duplication>
   <duplication lines="19" tokens="54">
      <file line="27"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumVersionElectiveModule.java"/>
      <file line="59"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/StateCurriculumForm.java"/>
      <codefragment><![CDATA[    private Set<CurriculumVersionHigherModuleSubject> subjects = new HashSet<>();

    public String getNameEt() {
        return nameEt;
    }

    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }

    public String getNameEn() {
        return nameEn;
    }

    public void setNameEn(String nameEn) {
        this.nameEn = nameEn;
    }

    public Set<CurriculumVersionHigherModuleSubject> getSubjects() {]]></codefragment>
   </duplication>
   <duplication lines="5" tokens="54">
      <file line="129"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/MessageService.java"/>
      <file line="152"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/MessageService.java"/>
      <codefragment><![CDATA[    public Page<MessageSearchDto> searchSent(HoisUserDetails user, MessageSearchCommand criteria, Pageable pageable) {
        return messageRepository.findAll((root, query, cb) -> {
            List<Predicate> filters = new ArrayList<>();

            filters.add(cb.equal(root.get("sender").get("id"), user.getPersonId()));]]></codefragment>
   </duplication>
   <duplication lines="7" tokens="54">
      <file line="309"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/MessageService.java"/>
      <file line="318"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/MessageService.java"/>
      <codefragment><![CDATA[        qb.requiredCriteria("p2.id = :parentsPersonId", "parentsPersonId", user.getPersonId());
        qb.requiredCriteria("s.school_id = :studentsSchoolId", "studentsSchoolId", user.getSchoolId());
        List<?> result = qb.select(SELECT_TEACHERS, em).getResultList();
        return mapUserSearchDtoPage(result, Role.ROLL_O);
    }

    public List<MessageReceiverDto> searchStudentsTeachers(HoisUserDetails user, UsersSearchCommand criteria) {]]></codefragment>
   </duplication>
   <duplication lines="19" tokens="54">
      <file line="45"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/CurriculumSearchCommand.java"/>
      <file line="23"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/StateCurriculumSearchCommand.java"/>
      <codefragment><![CDATA[    }

    public List<String> getIscedSuun() {
        return iscedSuun;
    }

    public void setIscedSuun(List<String> iscedSuun) {
        this.iscedSuun = iscedSuun;
    }

    public String getIscedVald() {
        return iscedVald;
    }

    public void setIscedVald(String iscedVald) {
        this.iscedVald = iscedVald;
    }

    public String getMerCode() {]]></codefragment>
   </duplication>
   <duplication lines="7" tokens="54">
      <file line="69"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CertificateControllerTest.java"/>
      <file line="89"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/MessageControllerTest.java"/>
      <file line="136"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SubjectStudyPeriodControllerTest.java"/>
      <file line="80"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SubjectStudyPeriodPlanControllerTest.java"/>
      <codefragment><![CDATA[        CertificateDto dto = responseEntity.getBody();
        Assert.assertNotNull(dto);
        Long id = dto.getId();
        Assert.assertNotNull(id);
        Long version = dto.getVersion();
        Assert.assertNotNull(version);
        Assert.assertEquals(Long.valueOf(0), version);]]></codefragment>
   </duplication>
   <duplication lines="10" tokens="54">
      <file line="157"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/ClassifierConnectControllerTest.java"/>
      <file line="69"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SchoolDepartmentControllerTests.java"/>
      <file line="75"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/StateCurriculumControllerTest.java"/>
      <file line="90"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/StateCurriculumControllerTest.java"/>
      <codefragment><![CDATA[        uriBuilder.queryParam("connectClassifierCode", Arrays.asList("", ""));
        String uri = uriBuilder.build().toUriString();
        ResponseEntity<Object> responseEntity = restTemplate.getForEntity(uri, Object.class);

        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
    }

    @Test
    public void testSearchAllWithNoParametersFail() {]]></codefragment>
   </duplication>
   <duplication lines="8" tokens="54">
      <file line="91"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/JournalControllerTests.java"/>
      <file line="119"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/JournalControllerTests.java"/>
      <codefragment><![CDATA[                .pathSegment(journal.getId().toString());
        ResponseEntity<Object> responseEntity = restTemplate.getForEntity(uriBuilder.toUriString(), Object.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
    }

    @Test
    public void saveEndDate() {]]></codefragment>
   </duplication>
   <duplication lines="4" tokens="54">
      <file line="149"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="270"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <codefragment><![CDATA[        responseEntity = restTemplate.postForEntity("/saisApplications/importCsv", cmd, SaisApplicationImportResultDto.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
        Assert.assertEquals(1, responseEntity.getBody().getFailed().size());]]></codefragment>
   </duplication>
   <duplication lines="4" tokens="54">
      <file line="127"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/StateCurriculumControllerTest.java"/>
      <file line="198"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/StateCurriculumControllerTest.java"/>
      <codefragment><![CDATA[        Assert.assertTrue(stateCurriculumDto.getModules().size() == 2);

        module = stateCurriculumDto.getModules().stream().filter(m -> m.getNameEn() != null && m.getNameEn().equals("StateCurriculumControllerTestNameEn")).findFirst().get();
        Assert.assertTrue(module.getModuleOccupations().size() == 2);]]></codefragment>
   </duplication>
   <duplication lines="9" tokens="53">
      <file line="271"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <file line="481"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <codefragment><![CDATA[            dto.setTeachers(StreamUtil.toMappedList(SubjectStudyPeriodTeacherDto::of, ssp.getTeachers()));
            dto.setCapacities(StreamUtil.toMappedList(SubjectStudyPeriodCapacityDto::of, ssp.getCapacities()));
            dto.setGroupProportion(EntityUtil.getCode(ssp.getGroupProportion()));
            return dto;
        }, ssps);
        container.setSubjectStudyPeriodDtos(subjectStudyPeriodDtos);
    }

    public void setSubjects(SubjectStudyPeriodDtoContainer container) {]]></codefragment>
   </duplication>
   <duplication lines="6" tokens="53">
      <file line="111"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <file line="32"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SchoolDepartmentControllerTests.java"/>
      <file line="30"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/TeacherOccupationControllerTests.java"/>
      <codefragment><![CDATA[        uriBuilder.queryParam("isJoint", Boolean.FALSE);
        String uri = uriBuilder.build().toUriString();
        ResponseEntity<Object> responseEntity = restTemplate.getForEntity(uri, Object.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
        uriBuilder.queryParam("nameEt", "nimi");]]></codefragment>
   </duplication>
   <duplication lines="21" tokens="52">
      <file line="234"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/application/Application.java"/>
      <file line="223"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/directive/DirectiveStudent.java"/>
      <codefragment><![CDATA[    }

    @Override
    public StudyPeriod getStudyPeriodStart() {
        return studyPeriodStart;
    }

    public void setStudyPeriodStart(StudyPeriod studyPeriodStart) {
        this.studyPeriodStart = studyPeriodStart;
    }

    @Override
    public StudyPeriod getStudyPeriodEnd() {
        return studyPeriodEnd;
    }

    public void setStudyPeriodEnd(StudyPeriod studyPeriodEnd) {
        this.studyPeriodEnd = studyPeriodEnd;
    }

    public String getAddInfo() {]]></codefragment>
   </duplication>
   <duplication lines="6" tokens="52">
      <file line="18"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/student/StudentRepresentativeApplication.java"/>
      <file line="22"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/teacher/Teacher.java"/>
      <codefragment><![CDATA[    @ManyToOne(optional = false, fetch = FetchType.LAZY)
    @JoinColumn(nullable = false, updatable = false)
    private Person person;
    @ManyToOne(optional = false, fetch = FetchType.LAZY)
    @JoinColumn(nullable = false, updatable = false)
    private Classifier relation;]]></codefragment>
   </duplication>
   <duplication lines="3" tokens="52">
      <file line="373"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/DirectiveService.java"/>
      <file line="123"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/StudentRepresentativeService.java"/>
      <codefragment><![CDATA[        Map<Long, Application> applications = applicationType.isPresent() ? applicationRepository.findAll((root, query, cb) -> {
                List<Predicate> filters = new ArrayList<>();
                filters.add(cb.equal(root.get("student").get("school").get("id"), schoolId));]]></codefragment>
   </duplication>
   <duplication lines="9" tokens="52">
      <file line="16"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/validation/DateRange.java"/>
      <file line="15"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/validation/DateTimeRange.java"/>
      <codefragment><![CDATA[public @interface DateRange {
    String from() default "validFrom";
    String thru() default "validThru";
    boolean allowPast() default true;

    String message() default "InvalidDateRange";
    Class<?>[] groups() default {};
    Class<? extends Payload>[] payload() default {};
}]]></codefragment>
   </duplication>
   <duplication lines="22" tokens="52">
      <file line="23"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/ApplicationPlannedSubjectDto.java"/>
      <file line="17"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/sais/SaisApplicationGraduatedSchoolDto.java"/>
      <codefragment><![CDATA[        dto.setEquivalents(StreamUtil.toMappedSet(ApplicationPlannedSubjectEquivalentDto::of, plannedSubject.getEquivalents()));

        return dto;
    }

    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public Set<ApplicationPlannedSubjectEquivalentDto> getEquivalents() {]]></codefragment>
   </duplication>
   <duplication lines="21" tokens="52">
      <file line="34"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumGradeDto.java"/>
      <file line="58"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionOccupationModuleThemeDto.java"/>
      <file line="242"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/timetable/LessonPlanDto.java"/>
      <codefragment><![CDATA[        CurriculumGradeDto dto = EntityUtil.bindToDto(grade, new CurriculumGradeDto());
        return dto;
    }

    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getNameEt() {
        return nameEt;
    }

    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }

    public String getNameEn() {]]></codefragment>
   </duplication>
   <duplication lines="4" tokens="52">
      <file line="706"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <file line="715"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CurriculumControllerTests.java"/>
      <codefragment><![CDATA[        ResponseEntity<CurriculumVersionDto> versionResponse = restTemplate.exchange("/curriculum/" + testCurriculum.getId() + "/versions/" + versionDto.getId(), HttpMethod.PUT,
                new HttpEntity<>(versionDto), CurriculumVersionDto.class);

        Assert.assertEquals(HttpStatus.OK, versionResponse.getStatusCode());]]></codefragment>
   </duplication>
   <duplication lines="17" tokens="52">
      <file line="24"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/LessonPlanControllerTests.java"/>
      <file line="24"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/StudentGroupControllerTests.java"/>
      <file line="36"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SubjectStudyPeriodControllerTest.java"/>
      <file line="31"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SubjectStudyPeriodPlanControllerTest.java"/>
      <codefragment><![CDATA[    @Autowired
    private TestRestTemplate restTemplate;
    @Autowired
    private TestConfigurationService testConfigurationService;

    @Before
    public void setUp() {
        testConfigurationService.userToRole(Role.ROLL_A, restTemplate);
    }

    @After
    public void cleanUp() {
        testConfigurationService.setSessionCookie(null);
    }

    @Test
    public void search() {]]></codefragment>
   </duplication>
   <duplication lines="7" tokens="52">
      <file line="49"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/LessonPlanControllerTests.java"/>
      <file line="66"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/LessonPlanControllerTests.java"/>
      <codefragment><![CDATA[        uriBuilder.queryParam("studentGroup", Long.valueOf(1));

        url = uriBuilder.build().toUriString();
        responseEntity = restTemplate.getForEntity(url, Object.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
    }]]></codefragment>
   </duplication>
   <duplication lines="8" tokens="52">
      <file line="74"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/MessageControllerTest.java"/>
      <file line="114"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SubjectStudyPeriodControllerTest.java"/>
      <codefragment><![CDATA[        uriBuilder.queryParam("size", "5");
        String url = uriBuilder.build().toUriString();
        ResponseEntity<Object> responseEntity = restTemplate.getForEntity(url, Object.class);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
    }

    @Test
    public void crud() {]]></codefragment>
   </duplication>
   <duplication lines="7" tokens="52">
      <file line="109"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="139"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="268"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <codefragment><![CDATA[                admissionCode + ";Nr123456789;Mari;Maasikas;47810010009;EST;EST;RE;1.01.2012;T;first;TAIS;P;E;411;1.12.2011;1.02.2012");

        ResponseEntity<SaisApplicationImportResultDto> responseEntity =
                restTemplate.postForEntity("/saisApplications/importCsv", cmd, SaisApplicationImportResultDto.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
        Assert.assertEquals(1, responseEntity.getBody().getSuccessful().size());]]></codefragment>
   </duplication>
   <duplication lines="5" tokens="52">
      <file line="86"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SchoolControllerTests.java"/>
      <file line="92"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SchoolControllerTests.java"/>
      <codefragment><![CDATA[        ResponseEntity<Object> responseEntity = restTemplate.getForEntity(uri, Object.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());

        uri = UriComponentsBuilder.fromUriString("/school").queryParam("name", "Nimetus").queryParam("lang", "ET")]]></codefragment>
   </duplication>
   <duplication lines="19" tokens="51">
      <file line="216"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/application/Application.java"/>
      <file line="124"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/directive/DirectiveStudent.java"/>
      <codefragment><![CDATA[    }

    @Override
    public LocalDate getStartDate() {
        return startDate;
    }

    public void setStartDate(LocalDate startDate) {
        this.startDate = startDate;
    }

    @Override
    public LocalDate getEndDate() {
        return endDate;
    }

    public void setEndDate(LocalDate endDate) {
        this.endDate = endDate;
    }]]></codefragment>
   </duplication>
   <duplication lines="3" tokens="51">
      <file line="383"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/DirectiveService.java"/>
      <file line="141"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/ApplicationControllerTests.java"/>
      <codefragment><![CDATA[        List<Student> students = studentRepository.findAll((root, query, cb) -> {
            List<Predicate> filters = new ArrayList<>();
            filters.add(cb.equal(root.get("school").get("id"), schoolId));]]></codefragment>
   </duplication>
   <duplication lines="4" tokens="51">
      <file line="383"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/DirectiveService.java"/>
      <file line="281"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/LessonTimeService.java"/>
      <file line="52"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/StudyYearScheduleService.java"/>
      <file line="75"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/StudyYearScheduleService.java"/>
      <file line="73"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodPlanService.java"/>
      <file line="95"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodPlanService.java"/>
      <file line="404"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <file line="538"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <codefragment><![CDATA[        List<Student> students = studentRepository.findAll((root, query, cb) -> {
            List<Predicate> filters = new ArrayList<>();
            filters.add(cb.equal(root.get("school").get("id"), schoolId));
            filters.add(root.get("id").in(studentIds));]]></codefragment>
   </duplication>
   <duplication lines="5" tokens="51">
      <file line="80"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/LessonTimeService.java"/>
      <file line="280"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/LessonTimeService.java"/>
      <codefragment><![CDATA[    public Page<LessonTimeSearchDto> search(Long schoolId, LessonTimeSearchCommand criteria, Pageable pageable) {
        return lessonTimeRepository.findAll((root, query, cb) -> {
            List<Predicate> filters = new ArrayList<>();

            filters.add(cb.equal(root.get("school").get("id"), schoolId));]]></codefragment>
   </duplication>
   <duplication lines="5" tokens="51">
      <file line="81"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/LessonTimeService.java"/>
      <file line="196"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <file line="426"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <codefragment><![CDATA[        return lessonTimeRepository.findAll((root, query, cb) -> {
            List<Predicate> filters = new ArrayList<>();

            filters.add(cb.equal(root.get("school").get("id"), schoolId));
            if (criteria.getFrom() != null) {]]></codefragment>
   </duplication>
   <duplication lines="4" tokens="51">
      <file line="253"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <file line="290"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <file line="463"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <file line="490"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <file line="598"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/SubjectStudyPeriodService.java"/>
      <codefragment><![CDATA[        List<SubjectStudyPeriod> ssps = subjectStudyPeriodRepository.findAll((root, query, cb) -> {
            List<Predicate> filters = new ArrayList<>();

            filters.add(cb.equal(root.get("studyPeriod").get("id"), container.getStudyPeriod()));]]></codefragment>
   </duplication>
   <duplication lines="3" tokens="51">
      <file line="85"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/ApplicationController.java"/>
      <file line="93"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/ApplicationController.java"/>
      <codefragment><![CDATA[    public ApplicationDto academicLeave(HoisUserDetails user, @WithEntity(value = "id") Student student) {
        if(!(UserUtil.isSame(user, student) || UserUtil.isSchoolAdmin(user, student.getSchool()))) {
            throw new ValidationFailedException(String.format("user %s is not allowed to view validAcademicLeave", user.getUsername()));]]></codefragment>
   </duplication>
   <duplication lines="7" tokens="51">
      <file line="208"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/DirectiveControllerTests.java"/>
      <file line="123"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/GeneralMessageControllerTests.java"/>
      <file line="129"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SchoolDepartmentControllerTests.java"/>
      <codefragment><![CDATA[        UriComponentsBuilder searchUriBuilder = UriComponentsBuilder.fromUriString("/directives/coordinators");
        ResponseEntity<Object> searchResponseEntity = restTemplate.getForEntity(searchUriBuilder.build().toUriString(), Object.class);
        Assert.assertNotNull(searchResponseEntity);
        Assert.assertEquals(HttpStatus.OK, searchResponseEntity.getStatusCode());

        // delete
        uriBuilder = UriComponentsBuilder.fromUriString("/directives/coordinators").pathSegment(id.toString());]]></codefragment>
   </duplication>
   <duplication lines="7" tokens="51">
      <file line="109"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="139"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="158"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="170"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="182"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="194"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="206"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="218"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="230"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="242"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="254"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <codefragment><![CDATA[                admissionCode + ";Nr123456789;Mari;Maasikas;47810010009;EST;EST;RE;1.01.2012;T;first;TAIS;P;E;411;1.12.2011;1.02.2012");

        ResponseEntity<SaisApplicationImportResultDto> responseEntity =
                restTemplate.postForEntity("/saisApplications/importCsv", cmd, SaisApplicationImportResultDto.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
        Assert.assertEquals(1, responseEntity.getBody().getSuccessful().size());]]></codefragment>
   </duplication>
   <duplication lines="6" tokens="51">
      <file line="85"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SchoolControllerTests.java"/>
      <file line="30"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SubjectControllerTests.java"/>
      <codefragment><![CDATA[        String uri = UriComponentsBuilder.fromUriString("/school").queryParam("lang", "ET").build().toUriString();
        ResponseEntity<Object> responseEntity = restTemplate.getForEntity(uri, Object.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());

        uri = UriComponentsBuilder.fromUriString("/school").queryParam("name", "Nimetus").queryParam("lang", "ET")]]></codefragment>
   </duplication>
   <duplication lines="5" tokens="51">
      <file line="166"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/StateCurriculumControllerTest.java"/>
      <file line="198"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/StateCurriculumControllerTest.java"/>
      <codefragment><![CDATA[        Assert.assertTrue(!stateCurriculumDto.getOccupations().contains("KUTSE_10512175"));
        
        module = stateCurriculumDto.getModules().stream().filter(m -> m.getNameEn() != null && m.getNameEn().equals("StateCurriculumControllerTestNameEn")).findFirst().get();

        Assert.assertTrue(module.getNameEt().equals("StateCurriculumControllerTest2"));]]></codefragment>
   </duplication>
   <duplication lines="20" tokens="50">
      <file line="33"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/ClassifierConnect.java"/>
      <file line="65"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/ClassifierConnect.java"/>
      <codefragment><![CDATA[    }

    public Classifier getClassifier() {
        return classifier;
    }

    public void setClassifier(Classifier classifier) {
        this.classifier = classifier;
    }

    public Classifier getConnectClassifier() {
        return connectClassifier;
    }

    public void setConnectClassifier(Classifier connectClassifier) {
        this.connectClassifier = connectClassifier;
    }

    @Override
    public String toString() {]]></codefragment>
   </duplication>
   <duplication lines="19" tokens="50">
      <file line="195"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/curriculum/CurriculumVersion.java"/>
      <file line="190"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/curriculum/CurriculumVersionDto.java"/>
      <file line="39"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/timetable/LessonTimeBuildingGroupDto.java"/>
      <file line="125"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/timetable/LessonTimeSearchDto.java"/>
      <codefragment><![CDATA[    }

    public LocalDate getValidFrom() {
        return validFrom;
    }

    public void setValidFrom(LocalDate validFrom) {
        this.validFrom = validFrom;
    }

    public LocalDate getValidThru() {
        return validThru;
    }

    public void setValidThru(LocalDate validThru) {
        this.validThru = validThru;
    }

    public Set<CurriculumVersionOccupationModule> getOccupationModules() {]]></codefragment>
   </duplication>
   <duplication lines="19" tokens="50">
      <file line="50"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/domain/GeneralMessage.java"/>
      <file line="39"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/GeneralMessageForm.java"/>
      <file line="31"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/GeneralMessageSearchCommand.java"/>
      <file line="114"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/student/StudentGroupForm.java"/>
      <codefragment><![CDATA[    }

    public LocalDate getValidFrom() {
        return validFrom;
    }

    public void setValidFrom(LocalDate validFrom) {
        this.validFrom = validFrom;
    }

    public LocalDate getValidThru() {
        return validThru;
    }

    public void setValidThru(LocalDate validThru) {
        this.validThru = validThru;
    }

    public List<GeneralMessageTarget> getTargets() {]]></codefragment>
   </duplication>
   <duplication lines="4" tokens="50">
      <file line="170"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/JournalService.java"/>
      <file line="231"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/JournalService.java"/>
      <codefragment><![CDATA[        Subquery<Long> studentGroupsQuery = query.subquery(Long.class);
        Root<Journal> journalRoot = studentGroupsQuery.from(Journal.class);
        Join<Object, Object> journalOmoduleThemesJoin = journalRoot.join("journalOccupationModuleThemes", JoinType.INNER);
        studentGroupsQuery.select(journalRoot.get("id"))]]></codefragment>
   </duplication>
   <duplication lines="4" tokens="50">
      <file line="297"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/MessageService.java"/>
      <file line="333"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/service/MessageService.java"/>
      <codefragment><![CDATA[            dto.setPersonId(resultAsLong(r, 1));
            dto.setFullname(PersonUtil.fullname(resultAsString(r, 2), resultAsString(r, 3)));
            dto.setIdcode(resultAsString(r, 4));
            dto.setRole(Arrays.asList(resultAsString(r, 5)));]]></codefragment>
   </duplication>
   <duplication lines="19" tokens="50">
      <file line="51"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/commandobject/timetable/LessonPlanJournalForm.java"/>
      <file line="135"
            path="/opt/hois/hois_back/src/main/java/ee/hitsa/ois/web/dto/timetable/LessonPlanDto.java"/>
      <codefragment><![CDATA[    }

    public String getNameEt() {
        return nameEt;
    }

    public void setNameEt(String nameEt) {
        this.nameEt = nameEt;
    }

    public String getGroupProportion() {
        return groupProportion;
    }

    public void setGroupProportion(String groupProportion) {
        this.groupProportion = groupProportion;
    }

    public List<String> getJournalCapacityTypes() {]]></codefragment>
   </duplication>
   <duplication lines="11" tokens="50">
      <file line="97"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/CertificateControllerTest.java"/>
      <file line="104"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/MessageControllerTest.java"/>
      <file line="171"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SubjectStudyPeriodControllerTest.java"/>
      <codefragment><![CDATA[        Assert.assertEquals(newContent, dto.getContent());
        
        // delete
        uriBuilder = UriComponentsBuilder.fromUriString(BASE_URL).pathSegment(id.toString());
        uriBuilder.queryParam("version", version);
        uri = uriBuilder.build().toUriString();
        restTemplate.delete(uri);
    }

    @Test
    public void getPersonByIdcode() {]]></codefragment>
   </duplication>
   <duplication lines="8" tokens="50">
      <file line="101"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/ClassifierControllerTests.java"/>
      <file line="109"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/ClassifierControllerTests.java"/>
      <file line="138"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/ClassifierControllerTests.java"/>
      <file line="146"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/ClassifierControllerTests.java"/>
      <file line="154"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/ClassifierControllerTests.java"/>
      <file line="24"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisClassifierControllerTests.java"/>
      <file line="144"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SchoolControllerTests.java"/>
      <file line="24"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/TeacherControllerTests.java"/>
      <file line="24"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/UsersControllerTests.java"/>
      <codefragment><![CDATA[    	String uri = UriComponentsBuilder.fromUriString("/classifier").build().toUriString();
        ResponseEntity<Object> responseEntity = restTemplate.getForEntity(uri, Object.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());
	}

	@Test
	public void testSearchTables() {]]></codefragment>
   </duplication>
   <duplication lines="9" tokens="50">
      <file line="85"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="107"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <file line="138"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/SaisApplicationControllerTests.java"/>
      <codefragment><![CDATA[    public void crud() {
        //create
        SaisApplicationImportCsvCommand cmd = csvCmdForRows(
                admissionCode + ";Nr123456789;Mari;Maasikas;47810010009;EST;EST;RE;1.01.2012;T;first;TAIS;P;E;411;1.12.2011;1.02.2012");

        ResponseEntity<SaisApplicationImportResultDto> responseEntity =
                restTemplate.postForEntity("/saisApplications/importCsv", cmd, SaisApplicationImportResultDto.class);
        Assert.assertNotNull(responseEntity);
        Assert.assertEquals(HttpStatus.OK, responseEntity.getStatusCode());]]></codefragment>
   </duplication>
   <duplication lines="4" tokens="50">
      <file line="127"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/StateCurriculumControllerTest.java"/>
      <file line="166"
            path="/opt/hois/hois_back/src/test/java/ee/hitsa/ois/web/StateCurriculumControllerTest.java"/>
      <codefragment><![CDATA[        Assert.assertTrue(stateCurriculumDto.getModules().size() == 2);

        module = stateCurriculumDto.getModules().stream().filter(m -> m.getNameEn() != null && m.getNameEn().equals("StateCurriculumControllerTestNameEn")).findFirst().get();
        Assert.assertTrue(module.getModuleOccupations().size() == 2);]]></codefragment>
   </duplication>
</pmd-cpd>