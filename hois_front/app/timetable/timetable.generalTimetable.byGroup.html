<md-nav-bar md-selected-nav-item="currentNavItem" aria-label="{{'subjectStudyPeriod.label.options' | translate}}">
  <md-nav-item md-nav-href="#/timetable/generalTimetableByGroup?_menu" name="studentGroup">{{'timetable.studentGroups' | translate}}</md-nav-item>
  <md-nav-item md-nav-href="#/timetable/generalTimetableByTeacher?_menu" name="teacher">{{'timetable.teachers' | translate}}</md-nav-item>
  <md-nav-item md-nav-href="#/timetable/generalTimetableByRoom?_menu" name="room">{{'timetable.rooms' | translate}}</md-nav-item>
</md-nav-bar>

<div layout-padding>
  <div flex>
    <md-table-container>
      <table md-table ng-if="timetablesByCurriculums" md-progress="endpoint.$promise" class="secondary-table">
        <thead md-head>
          <tr md-row>
            <th md-column width="20%">{{'generalTimetable.curriculum' | translate}}</th>
            <th md-column>&nbsp;</th>
          </tr>
        </thead>
        <tbody md-body>
          <tr ng-repeat="row in timetablesByCurriculums.curriculums" md-row ng-class-odd="'odd'" ng-class-even="'even'">
            <td>{{currentLanguage() == 'en' ? row.nameEn : row.nameEt}}</td>
            <td>
                <md-grid-list ng-app="app" md-cols="5" md-gutter="1em" md-row-height="36px" flex>
                    <md-grid-tile ng-repeat="group in row.groups" style="text-align: left;">
                        <md-button class="md-raised md-primary" ng-href="#/timetable/group/{{::studyPeriodId}}/{{::group.id}}/{{::timetableId}}">{{group.code}}</md-button>
                     </md-grid-tile>
                  </md-grid-list>
            </td>
          </tr>
        </tbody>
      </table>
    </md-table-container>
  </div>
</div>

<div layout-padding>
  <div flex>
    <div ng-repeat="row in timetables">
      <a ng-click="showTimetablesByCurriculums(row.id, row.studyPeriodId)">{{currentLanguage() == 'en' ? row.nameEn : row.nameEt}} {{row.startDate | hoisDate}}-{{row.endDate | hoisDate}}</a>
    </div>
  </div>
</div>
