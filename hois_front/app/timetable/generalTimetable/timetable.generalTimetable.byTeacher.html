<div ng-include="'timetable/generalTimetable/timetable.generalTimetable.navbar.html'"></div>

<div>
    <div ng-if="timetableSearch" ng-controller="GeneralTimetableSearchController">
        <div ng-include="'timetable/generalTimetable/timetable.generalTimetable.search.html'"></div>
    
        <div ng-controller="SearchTimetableViewController">
            <div ng-include="'timetable/timetable.week.view.html'"></div>
        </div>
    
        <md-button ng-click="backToTimetableByTeacher()" class="md-raised">{{'main.button.back' | translate}}</md-button>
    </div>
    
    <span ng-show="!timetableSearch">
        <div ng-if="timetablesByTeachers">
            <br>
            <md-grid-list ng-app="app" md-cols="5" md-gutter="1em" md-row-height="36px" flex>
                <md-grid-tile ng-repeat="row in timetablesByTeachers" style="text-align: left;">
                    <md-button class="md-raised md-primary" ng-click="showTeacherWeek(shownStudyPeriodId, row.teacherId, shownTimetableId)">
                        {{row.lastname}}, {{row.firstname}}
                    </md-button>
                </md-grid-tile>
            </md-grid-list>
        </div>
    
        <div ng-controller="TeacherTimetableViewController">
            <div ng-include="'timetable/timetable.week.view.html'"></div>
        </div>

        <div layout-padding>
            <div ng-repeat="row in timetables track by $index" style="padding:0;">
                <a class="small-link" ng-class="{shownTimetable: $index === shownTimetableIndex}" ng-click="showTimetable(row.id, row.studyPeriodId)">
                    {{currentLanguageNameField(row)}} {{row.startDate | hoisDate}}-{{row.endDate | hoisDate}}
                </a>
            </div>
        </div>
    </span>
</div>