<hois-collapsable expanded="true" ng-if="tasks.todayTasks.length > 0 || tasks.tomorrowTasks.length > 0 || tasks.laterTasks.length > 0">
    <hois-collapsable-header>
        <span>{{'home.student.homeworkAndTests' | translate}}</span>
    </hois-collapsable-header>

    <div style="margin:1%" layout="column">
        <div ng-if="tasks.todayTasks.length > 0" layout="row" layout-xs="column" flex>
            <div flex="20" flex-sm="100" flex-xs="100" flex-gt-lg="10">{{'home.student.today' | translate}} ({{todaysDate | hoisDayMonth}}):</div>
            <div layout="column" flex="80" flex-sm="100" flex-xs="100" flex-offset="5" flex-offset-xs="0" flex-offset-sm="0" style="font-size:13px">
                <div ng-repeat="task in tasks.todayTasks">
                    <span style="font-weight:bold">{{task.journalName}}: </span>
                    <span ng-if="testTaskTypes.indexOf(task.entryType) !== -1">{{'home.student.test' | translate}} - </span>
                    <span ng-if="testTaskTypes.indexOf(task.entryType) === -1">{{'home.student.homework' | translate}} - </span>
                    <span>{{task.taskContent}}</span>
                </div>
            </div>
        </div>

        <div layout="row" layout-xs="column" ng-if="tasks.tomorrowTasks.length > 0" style="margin-top:1%" flex="100">
            <div flex="20" flex-sm="100" flex-xs="100" flex-gt-lg="10">{{'home.student.tomorrow' | translate}} ({{tomorrowsDate | hoisDayMonth}}):</div>
            <div layout="column" flex="80" flex-sm="100" flex-xs="100" flex-offset="5" flex-offset-xs="0" flex-offset-sm="0" style="font-size:13px">
                <div ng-repeat="task in tasks.tomorrowTasks">
                    <span style="font-weight:bold">{{task.journalName}}: </span>
                    <span ng-if="testTaskTypes.indexOf(task.entryType) !== -1">{{'home.student.test' | translate}} - </span>
                    <span ng-if="testTaskTypes.indexOf(task.entryType) === -1">{{'home.student.homework' | translate}} - </span>
                    <span>{{task.taskContent}}</span>
                </div>
            </div>
        </div>

        <div layout="row" layout-xs="column" ng-if="tasks.laterTasks.length > 0" style="margin-top:1%" flex="100">
            <div flex="20" flex-sm="100" flex-xs="100" flex-gt-lg="10">{{'home.student.later' | translate}}:</div>
            <div layout="column" flex="80" flex-sm="100" flex-xs="100" flex-offset="5" flex-offset-xs="0" flex-offset-sm="0" style="font-size:13px">
                <div ng-repeat="task in tasks.laterTasks">
                    <span>{{task.date | hoisDayMonth}}</span>
                    <span style="font-weight:bold">{{task.journalName}}: </span>
                    <span ng-if="testTaskTypes.indexOf(task.entryType) !== -1">{{'home.student.test' | translate}} - </span>
                    <span ng-if="testTaskTypes.indexOf(task.entryType) === -1">{{'home.student.homework' | translate}} - </span>
                    <span>{{task.taskContent}}</span>
                </div>
            </div>
        </div>
    </div>
</hois-collapsable>

<hois-collapsable expanded="false" ng-if="studentAbsences.length > 0">
    <hois-collapsable-header>
        <span>{{'home.student.absences' | translate}}</span>
    </hois-collapsable-header>

    <div style="margin:1%">
        <div ng-repeat="absence in studentAbsences" style="font-size:13px">
            <div layout="row" flex>
                <div layout="row" layout-xs="column" flex="10" flex-md="15" flex-sm="20" flex-xs="30">
                    <span>{{absence.entryDate | hoisDayMonth}} &nbsp;</span>
                    <span ng-if="absence.startLessonNr">{{absence.startLessonNr}}. {{'home.student.lesson' | translate}} &nbsp;</span>
                </div>
                <div layout="row" layout-xs="column">
                    <span style="font-weight: 500">{{absence.journalName}} &nbsp;</span>
                    <span>{{absence.teachers}}</span>
                </div>
            </div>
        </div>
    </div>
</hois-collapsable>

<hois-collapsable expanded="true" ng-if="lastResults.length > 0">
    <hois-collapsable-header>
        <span>{{'home.student.lastResults' | translate}}</span>
    </hois-collapsable-header>

    <div layout="column" ng-repeat="result in lastResults" style="margin-top:1%">
        <div layout="row" ng-if="result.entryCode">
            <div layout="column" flex="5" flex-xs="10" layout-align="center center" layout-align-xs="start center" 
                style="font-size:13px; font-weight:bold">{{result.grade}}</div>
            <div layout="column" flex="95" flex-xs="90">
                <div layout="row" layout-xs="column">
                    <div style="font-size:13px; font-weight:bold">{{result.nameEt}}</div>
                    <div ng-if="result.content" style="font-size:13px;">
                        <span hide-xs>&nbsp</span>
                        <span>({{result.content}})</span>
                    </div>
                    <div style="font-size:13px; color:grey; font-style: italic;">
                        <span hide-xs>&nbsp</span>
                        <span>{{'home.student.gradeInserted' | translate}} {{result.gradeInserted | hoisDayMonthTimeMin}}</span>
                    </div>
                </div>
                <div layout="row" layout-xs="column" style="font-size:13px;">{{result.addInfo}}</div>
            </div>
        </div>

        <div layout="row" ng-if="!result.entryCode">
            <div layout="column" flex="5" flex-xs="10" layout-align="center center" layout-align-xs="start center" style="font-weight:bold;" 
                ng-class="{goodGrade: result.grade === '5', badGrade: result.grade === '2'}">{{result.grade}}</div>
            <div layout="row" layout-xs="column" flex="95" flex-xs="90">
                <div style="font-size:18px; font-weight:bold">{{currentLanguageNameField(result)}}</div>
                <div style="font-size:13px; color:grey; font-style: italic;">
                    <span hide-xs>&nbsp</span>
                    <span>{{'home.student.gradeInserted' | translate}} {{result.gradeInserted | hoisDayMonthTimeMin}}</span>
                </div>
            </div>
        </div>
    </div>
</hois-collapsable>

<hois-collapsable expanded="true" ng-if="declaration.status">
    <hois-collapsable-header>
        <span>{{'home.student.declaredSubjects' | translate}}</span>
    </hois-collapsable-header>
    <md-table-container>
        <table md-table>
            <thead md-head>
            <tr md-row>
                <th md-column>{{'declaration.subject' | translate}}</th>
                <th md-column>{{'declaration.teacher' | translate}}</th>
                <th md-column>{{'studyMaterial.label' | translate}}</th>
            </tr>
            </thead>
            <tbody md-body>
            <tr md-row ng-repeat="subject in declaration.subjects | orderBy: 'subject.' + currentLanguageNameField()" ng-class-odd="'odd'" ng-class-even="'even'">
                <td md-cell>
                {{currentLanguageNameField(subject.subject)}} ({{subject.subject.code}})
                <span ng-show="subject.isDeclaredRepeatedly">&nbsp;*</span>
                </td>
                <td md-cell>
                <table>
                    <tr ng-repeat="teacher in subject.teachers | orderBy">
                        <td>{{teacher}}</td>
                    </tr>
                </table>
                </td>
                <td md-cell><a ng-href="/#/studyMaterial/higher/{{subject.subjectStudyPeriod}}/view">{{'studyMaterial.openfolder' | translate}}</a></td>
            </tr>
            </tbody>
        </table>
    </md-table-container>
</hois-collapsable>

<style>
    .goodGrade {
        color: green;
        font-weight: 500;
        font-size: 18px;
    }

    .badGrade {
        color: red;
        font-weight: 500;
        font-size: 18px;
    }
</style>