  <hois-collapsable expanded="false">
    <hois-collapsable-header>
      <div layout="row">
        <div flex="30">{{currentLanguageNameField(module.curriculumModule) + ' (' + currentLanguageNameField(module.curriculumModule.module) + ')'}}</div>
        <div ng-if="moduleResultById[module.id] && moduleResultById[module.id].grade && positiveGrade(moduleResultById[module.id].grade.value)" flex-offset="10" class="bold" md-colors="{color: 'green-600'}">{{moduleResultById[module.id].grade.value}}</div>
        <div ng-if="!moduleResultById[module.id] || !moduleResultById[module.id].grade" flex-offset="10" md-colors="{color: 'accent'}">{{(moduleResultById[module.id] ? moduleResultById[module.id].totalSubmitted : 0) - module.curriculumModule.credits}} {{'student.result.ekap' | translate}}</div>
        <div ng-if="!moduleResultById[module.id] && allThemesHavePositiveGrade(module)" flex-offset="10" md-colors="{color: 'accent'}">{{'student.result.moduleNotGraded' | translate}}</div>
      </div>
    </hois-collapsable-header>
    <md-table-container>
      <table md-table class="secondary-table">
        <thead md-head>
          <tr md-row>
            <th md-column>{{'student.result.theme' | translate}}</th>
            <th md-column>{{'student.result.ekap' | translate}}</th>
            <th md-column>{{'student.result.grade' | translate}}</th>
            <th md-column>{{'student.result.date' | translate}}</th>
            <th md-column>{{'student.result.teacher' | translate}}</th>
            <th md-column>{{'student.result.isOk' | translate}}</th>
          </tr>
        </thead>
        <tbody md-body>
          <tr md-row ng-repeat="row in module.themes" ng-class-odd="'odd'" ng-class-even="'even'">
            <td md-cell><span>{{row.nameEt}}</span></td>
            <td md-cell>{{row.credits}}</td>
            <td md-cell><span>{{moduleResultById[module.id].themeResultById[row.id].grade.value}}</span></td>
            <td md-cell>{{moduleResultById[module.id].themeResultById[row.id].date | hoisDate}}</td>
            <td md-cell>{{displayTeachers(moduleResultById[module.id].themeResultById[row.id].teachers)}}</td>
            <td md-cell>{{positiveThemeResult(moduleResultById[module.id].themeResultById[row.id]) ? 'main.yes' : 'main.no' | translate}}</td>
          </tr>
        </tbody>
      </table>
    </md-table-container>
    <div class="md-body-2 bold" layout="row">
      <div>{{'student.result.totalRequired' | translate}}: {{module.curriculumModule.credits}}</div>
      <div flex-offset="10">{{'student.result.totalSubmitted' | translate}}: {{moduleResultById[module.id] ? moduleResultById[module.id].totalSubmitted : 0}}</div>
      <div ng-if="!moduleResultById[module.id] || module.curriculumModule.credits > moduleResultById[module.id].totalSubmitted" flex-offset="10">{{'student.result.difference' | translate}}: <span md-colors="{color: 'warn-A400'}">-{{module.curriculumModule.credits - (moduleResultById[module.id] ? moduleResultById[module.id].totalSubmitted : 0)}}</span></div>
      <div ng-if="module.curriculumModule.credits <= moduleResultById[module.id].totalSubmitted" flex-offset="10">{{'student.result.difference' | translate}}: {{(moduleResultById[module.id] ? moduleResultById[module.id].totalSubmitted : 0) - module.curriculumModule.credits}}</div>
    </div>

    <br><br>
  </hois-collapsable>
