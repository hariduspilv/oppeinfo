<md-table-container>
  <table md-table>
    <tbody md-body ng-repeat="studyPeriodResult in higherResults.studyPeriodResults | orderBy: 'studyPeriod.endDate'">
      <tr md-row ng-click="studyPeriodResult.clicked = !studyPeriodResult.clicked">
        <td md-cell colspan="8" class="md-title header-blue">
          <span class="md-title header-blue">{{currentLanguageNameField(studyPeriodResult.studyPeriod)}}</span>
        </td>
      </tr>
      <tr md-row ng-hide="studyPeriodResult.clicked" class="secondary-table-header hideable">
        <td md-cell>{{'student.result.higher.subject' | translate}}</td>
        <td md-cell>{{'student.result.higher.subjectCode' | translate}}</td>
        <td md-cell>{{'student.result.higher.module' | translate}}</td>
        <td md-cell>{{'student.result.higher.required' | translate}}</td>
        <td md-cell>{{'student.result.higher.credits' | translate}}</td>
        <td md-cell>{{'student.result.higher.grade' | translate}}</td>
        <td md-cell>{{'student.result.higher.date' | translate}}</td>
        <td md-cell>{{'student.result.higher.teacher' | translate}}</td>
      </tr>
      <tr md-row ng-repeat="subjectResult in higherResults.subjectResults | filter: filterSubjectResultsByStudyPeriod(studyPeriodResult.studyPeriod) | orderBy: 'lastGrade.gradeDate'" ng-hide="studyPeriodResult.clicked" class="hideable">
        <td md-cell>{{subjectResult.subject[currentLanguageNameField()]}}</td>
        <td md-cell>{{subjectResult.subject.code}}</td>
        <td md-cell>{{subjectResult.higherModule[currentLanguageNameField()]}}</td>
        <td md-cell>{{subjectResult.isOptional ? 'main.no' : 'main.yes' | translate}}</td>
        <td md-cell>{{subjectResult.subject.credits}}</td>
        <td md-cell>
          <table>
            <tr>
              <td ng-repeat="grade in subjectResult.grades | orderBy: 'gradeDate'">
                <span ng-if="$index !== 0">/</span>
                {{grade.gradeValue}}
              </td>
            </tr>
          </table>
        </td>
        <td md-cell>{{subjectResult.lastGrade.gradeDate | hoisDate}}</td>
        <td md-cell>
          <table>
            <tr ng-repeat="teacher in subjectResult.lastGrade.teachers | orderBy">
              <td>{{teacher}}</td>
            </tr>
          </table>
        </td>
      </tr>
      <tr md-row class="secondary-table-header hideable" ng-hide="studyPeriodResult.clicked">
        <td md-cell>{{'student.result.higher.overallCredits' | translate}}: {{studyPeriodResult.total}}</td>
        <td md-cell colspan="7">{{'student.result.kkh' | translate}}: {{studyPeriodResult.averageGrade}}</td>
      </tr>
    </tbody>
  </table>
</md-table-container>
